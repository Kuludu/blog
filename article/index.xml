<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Articles on Kuluduçš„åšå®¢</title><link>https://blog.kuludu.net/article/</link><description>Recent content in Articles on Kuluduçš„åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Kuludu</copyright><lastBuildDate>Thu, 08 May 2025 15:50:00 +0800</lastBuildDate><atom:link href="https://blog.kuludu.net/article/index.xml" rel="self" type="application/rss+xml"/><item><title>EasyConnectå‡€åŒ–-ä»¥æ±Ÿå—å¤§å­¦ä¸ºä¾‹</title><link>https://blog.kuludu.net/article/easyconnect-purify-jnu-as-example/</link><pubDate>Thu, 08 May 2025 15:50:00 +0800</pubDate><guid>https://blog.kuludu.net/article/easyconnect-purify-jnu-as-example/</guid><description>&lt;p&gt;æ·±ä¿¡æœä½œä¸ºå…¨å›½å„å¤§é«˜æ ¡ä¸»æµçš„VPNæä¾›å•†ï¼Œå´é­”æ”¹VPNåè®®ï¼Œç”šè‡³ä¼šå‘ç³»ç»ŸåŠ å…¥è‡ªç­¾åçš„CAè¯ä¹¦ï¼ˆå…·ä½“çš„å±å®³å¯ä»¥æœç´ ä¹‹ï¼‰ã€‚æœ¬æ–‡ä»‹ç»ä¸€ç§å°†æ·±ä¿¡æœVPNå®¢æˆ·ç«¯EasyConnectæ”¾è¿›å®¹å™¨é‡Œçš„æ–¹æ³•ï¼Œå®ç°åº”ç”¨ä¸å®¿ä¸»æœºéš”ç¦»ï¼Œä»…å‘å¤–éƒ¨æš´éœ²ä»£ç†æ¥å£ï¼Œå®ç°å‡€åŒ–çš„åŒæ—¶å…è®¸æŒ‰éœ€è¿æ¥ï¼ˆä»¥æ±Ÿå—å¤§å­¦ä½œä¸ºæ¡ˆä¾‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡é»˜è®¤dockerå·²ç»å®Œæˆå®‰è£…ã€‚&lt;/p&gt;
&lt;h2 id="éƒ¨ç½²docker-easyconnectå®¹å™¨"&gt;éƒ¨ç½²docker-easyconnectå®¹å™¨
&lt;/h2&gt;&lt;p&gt;è¿™ä¸€æ­¥ä¸»è¦éœ€è¦å‚è€ƒ&lt;a class="link" href="https://github.com/docker-easyconnect/docker-easyconnect?tab=readme-ov-file" target="_blank" rel="noopener"
&gt;docker-easyconnect&lt;/a&gt;é¡¹ç›®çš„è¯´æ˜æ–‡æ¡£ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ç›®å‰å¤§éƒ¨åˆ†é«˜æ ¡æ‰€ä½¿ç”¨çš„EasyConnectç‰ˆæœ¬åº”è¯¥æ˜¯å…·æœ‰å›¾å½¢ç•Œé¢çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦é€‰æ‹©ç¬¬äºŒä¸ªç‰ˆæœ¬ã€‚åŒæ—¶å¯ä»¥è€ƒè™‘å»æ‰å®˜æ–¹æ–‡æ¡£ä¸­çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tiï¼šç”¨äºå¯åŠ¨ä¸€ä¸ªäº¤äº’å¼ç»ˆç«¯ï¼Œæ„ä¹‰ä¸å¤§ã€‚&lt;/li&gt;
&lt;li&gt;rmï¼šåœ¨å®¹å™¨åœæ­¢ååˆ é™¤å®¹å™¨ï¼Œå¯ä»¥è€ƒè™‘ä¿ç•™å®¹å™¨ä¸‹æ¬¡ç›´æ¥é‡æ–°å¯åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦å¤–ç«¯å£å¯ä»¥æŒ‰ç…§å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚&lt;code&gt;8888&lt;/code&gt;ç«¯å£ä¸€èˆ¬ä¼šå’Œjupyterå†²çªã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ä½¿ç”¨çš„æ˜¯macOSç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;Screen Sharing.app&lt;/code&gt;è¿æ¥VNCè€Œä¸éœ€è¦ä¸‹è½½æ–°çš„è½¯ä»¶ã€‚&lt;/p&gt;
&lt;h2 id="å¢åŠ clashè§„åˆ™"&gt;å¢åŠ Clashè§„åˆ™
&lt;/h2&gt;&lt;p&gt;æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ä¸­çš„æ­¥éª¤ï¼Œæ­¤æ—¶ç³»ç»Ÿå·²ç»åœ¨1080ç«¯å£å¯åŠ¨äº†ä¸€ä¸ªsocks5ä»£ç†ï¼Œåœ¨8888ç«¯å£å¯åŠ¨äº†ä¸€ä¸ªhttpä»£ç†ã€‚æˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„å°±æ˜¯ä¿®æ”¹ç³»ç»Ÿä»£ç†ï¼Œè®©æµé‡èµ°æˆ‘ä»¬åˆšåˆšéƒ¨ç½²å¥½çš„å‡€åŒ–å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Clashä½œä¸ºæˆ‘ä»¬çš„ä»£ç†è½¯ä»¶ã€‚å…·ä½“å¯ä»¥æ·»åŠ ä»¥ä¸‹è§„åˆ™ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# æ”¾é€šVPNåŠå†…ç½‘è®¤è¯
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- DOMAIN,vpn.jiangnan.edu.cn,DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- DOMAIN,net.jiangnan.edu.cn,DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- IP-CIDR,202.195.159.160/32,DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# æ±Ÿå—å¤§å­¦ç½‘ç«™ç¾¤
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- DOMAIN-SUFFIX,jiangnan.edu.cn,VPN
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# æ±Ÿå—å¤§å­¦å†…ç½‘IPæ®µ
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- IP-CIDR,172.16.0.0/12,VPN
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# æ±Ÿå—å¤§å­¦å¤–ç½‘IPæ®µ
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- IP-CIDR,202.192.0.0/12,VPN
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é™¤äº†&lt;code&gt;vpn.jiangnan.edu.cn&lt;/code&gt;å’Œ&lt;code&gt;net.jiangnan.edu.cn&lt;/code&gt;è¿™ä¸¤ä¸ªåŸºç¡€æ€§åŸŸåéœ€è¦ç›´è¿ä»¥å¤–ï¼Œè¿˜éœ€è¦æ”¾é€š&lt;code&gt;202.195.159.160&lt;/code&gt;è¿™ä¸ªIPï¼Œè¿™æ˜¯åœ¨çŸ­ä¿¡è®¤è¯é˜¶æ®µæŠ“åŒ…å‘ç°çš„ï¼Œä¼¼ä¹æ˜¯ç”¨ä½œEasyConnectç™»é™†éªŒè¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;åŒ…å«ç«¯å£è®¾ç½®å’Œä»£ç†è®¾ç½®çš„é…ç½®æ–‡ä»¶å¯ä»¥å‚è€ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mixed-port: 7890
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;allow-lan: false
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mode: Rule
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;log-level: info
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;external-controller: 127.0.0.1:9090
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;proxies:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - {name: VPN-socks5, server: localhost, port: 1080, type: socks5}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;proxy-groups:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - name: VPN
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; type: select
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxies:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - VPN-socks5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rules:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - DOMAIN,vpn.jiangnan.edu.cn,DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - DOMAIN,net.jiangnan.edu.cn,DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - IP-CIDR,202.195.159.160/32,DIRECT
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - DOMAIN-SUFFIX,jiangnan.edu.cn,VPN
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - IP-CIDR,172.16.0.0/12,VPN
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - IP-CIDR,202.192.0.0/12,VPN
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœä½ ä¸éœ€è¦ç›´è¿å†…ç½‘IPï¼Œä¹Ÿå¯ä»¥ä¸ç”¨åŠ å…¥å†…ç½‘å’Œå¤–ç½‘IPæ®µã€‚&lt;/p&gt;
&lt;p&gt;Noteï¼šè‹¥ä½ éœ€è¦ä¸ºä½ çš„å­¦æ ¡é…ç½®è§„åˆ™ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ€è·¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ›¿æ¢å­¦æ ¡ç½‘ç«™ç¾¤åŸŸåï¼Œå°¤å…¶æ³¨æ„ä¸èƒ½è¢«ä»£ç†çš„åŸŸåï¼ˆæ¯”å¦‚VPNç™»é™†å’Œå†…ç½‘ç™»é™†ç³»ç»Ÿç­‰ï¼Œå¯ä»¥è§‚å¯ŸClashæ—¥å¿—ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è·å–å­¦æ ¡å†…ç½‘ç½‘æ®µï¼Œè¿™ä¸ªä¿¡æ¯ä¸€èˆ¬æ˜¯ä¸å…¬å¼€çš„ï¼Œå¯ä»¥åœ¨ä¸å†²çªçš„æƒ…å†µä¸‹è®¾ç½®å¤§ä¸€äº›ï¼Œæ›¿æ¢å†…ç½‘æ®µã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡IPè·å–å­¦æ ¡å¤–ç½‘ASNï¼Œå¯ä»¥ä½¿ç”¨&lt;a class="link" href="https://tools.ipip.net/as.php" target="_blank" rel="noopener"
&gt;https://tools.ipip.net/as.php&lt;/a&gt;ï¼Œæ›¿æ¢å¤–ç½‘æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯¦ç»†çš„é…ç½®æ–‡ä»¶è¯´æ˜è¿™é‡Œä¸å†èµ˜è¿°ï¼Œå¯ä»¥å‚è€ƒ&lt;a class="link" href="https://clash.wiki/configuration/rules.html" target="_blank" rel="noopener"
&gt;Clash Wiki&lt;/a&gt;çš„è¯´æ˜ã€‚&lt;/p&gt;
&lt;h2 id="ä¸ºsshæ·»åŠ proxycommand"&gt;ä¸ºSSHæ·»åŠ ProxyCommand
&lt;/h2&gt;&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢å¸¸è§„çš„ä»£ç†é…ç½®åŸºæœ¬ä¸Šå°±ç»“æŸäº†ã€‚ä½†æ˜¯å¯¹äºè®¡ç®—æœºä¸“ä¸šè€Œè¨€ï¼Œå¯èƒ½è¿˜æœ‰é€šè¿‡SSHè¿æ¥å†…ç½‘æœåŠ¡å™¨çš„éœ€æ±‚ã€‚ç”±äºSSHé»˜è®¤æ˜¯ä¸æ”¯æŒsocks5æˆ–httpä»£ç†çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®çš„æ–¹æ³•å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨&lt;code&gt;ProxyCommand&lt;/code&gt;ä¸­ä½¿ç”¨&lt;code&gt;netcat&lt;/code&gt;è®¾ç½®SSHçš„ä»£ç†å³å¯ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹é…ç½®ï¼ˆ~/.ssh/configï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Host host-1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; HostName 172.xx.xx.xx
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; User xxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ProxyCommand nc -x 127.0.0.1:7890 -X 5 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœä¸æƒ³å†™é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥åœ¨SSHè¿æ¥æ—¶åŠ ä¸Šï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zsh" data-lang="zsh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ssh -o &lt;span class="s2"&gt;&amp;#34;ProxyCommand=nc -x 127.0.0.1:7891 -X 5 %h %p&amp;#34;&lt;/span&gt; xxxx@172.xx.xx.xx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œnetcatåœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šçš„å®ç°å¹¶ä¸ç›¸åŒï¼Œè¿™é‡Œçš„å®éªŒç¯å¢ƒæ˜¯macOSï¼Œå¦‚æœæ˜¯Windows WSLæˆ–è€…å…¶ä»–Linuxå‘è¡Œç‰ˆï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹å¯¹åº”çš„ncå‘½ä»¤å‚æ•°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="reference"&gt;Reference
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://github.com/docker-easyconnect/docker-easyconnect?tab=readme-ov-file" target="_blank" rel="noopener"
&gt;docker-easyconnect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://clash.wiki/configuration/rules.html" target="_blank" rel="noopener"
&gt;Clash Wiki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>macOSç‰ˆMS Officeå®ç°è‡ªåŠ¨æ­£è§„å½¢å¼å›¾æ ‡ç¼–å·</title><link>https://blog.kuludu.net/article/macos-ms-office-auto-number/</link><pubDate>Mon, 16 Dec 2024 00:00:00 +0000</pubDate><guid>https://blog.kuludu.net/article/macos-ms-office-auto-number/</guid><description>&lt;p&gt;æœ€è¿‘åœ¨è¿›è¡Œå­¦ä½è®ºæ–‡çš„æ’°å†™å·¥ä½œçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†è¿™æ ·ä¸€ç³»åˆ—çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§å­¦æ ¡è®ºæ–‡æ ¼å¼è¦æ±‚ï¼Œç« èŠ‚æ ‡é¢˜åº”å½“ä½¿ç”¨ä¸­æ–‡æ±‰å­—ï¼Œè€Œå°èŠ‚æ ‡é¢˜åº”å½“ä½¿ç”¨é˜¿æ‹‰ä¼¯æ•°å­—ã€‚å³å¦‚ä»¥ä¸‹å½¢å¼ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¬ä¸€ç«  ç»ªè®º&lt;br&gt;
1.1 ç ”ç©¶èƒŒæ™¯åŠæ„ä¹‰&lt;br&gt;
1.2 å›½å†…å¤–ç ”ç©¶è¿›å±•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½†æ˜¯è¿™æ ·çš„ç¼–å·è¦æ±‚ä¼šå¯¼è‡´ç« èŠ‚ä¸å°èŠ‚ç¼–ç ç¬¦å·ä¸ç»Ÿä¸€ï¼Œæœ€åæ˜¾ç¤ºä¸º&lt;code&gt;ä¸€.1ç ”ç©¶èƒŒæ™¯åŠæ„ä¹‰&lt;/code&gt;ã€‚ä¸è¿‡è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨å¤šçº§åˆ—è¡¨é‡Œé€‰æ‹©&lt;strong&gt;æ­£è§„å½¢å¼ç¼–å·&lt;/strong&gt;å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™æ ·æ“ä½œè¿˜ä¼šå¼•èµ·å¦ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å›¾è¡¨æ ‡é¢˜çš„æŒ‰ç« è‡ªåŠ¨ç¼–å·ä¹Ÿå˜æˆäº†&lt;code&gt;å›¾ ä¸€.1&lt;/code&gt;æˆ–&lt;code&gt;è¡¨ ä¸€.1&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™[1]çš„åšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç« èŠ‚ç¼–å·çš„åŸŸä»£ç ä¿®æ”¹ä¸º&lt;code&gt;{ QUOTE &amp;quot;ä¸€ä¹ä¸€ä¸€å¹´ä¸€æœˆ{ STYLEREF 1 \s }æ—¥&amp;quot; \@&amp;quot;D&amp;quot; }&lt;/code&gt;å®ç°é˜¿æ‹‰ä¼¯æ•°å­—çš„è‡ªåŠ¨ç¼–å·ã€‚ä½†æ˜¯ï¼Œè¿™ä¸€ç‚¹åœ¨macOSä¸‹çš„MS Officeé‡Œä¸èƒ½ç›´æ¥å®ç°ï¼ŒåŸå› æ˜¯åŸŸä»£ç ä¸­çš„&lt;code&gt;{}&lt;/code&gt;ç¬¦å·æ˜¯ä¸èƒ½ç›´æ¥æ‰“å‡ºæ¥çš„ï¼Œå¿…é¡»ä½¿ç”¨å¿«æ·é”®ç”Ÿæˆã€‚è¿™å°±å¾ˆå°´å°¬äº†ï¼Œå› ä¸ºmacOSçš„å¿«æ·é”®å’ŒWindowsçš„å‹æ ¹å¯¹ä¸ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿™é‡Œæ˜¯å­˜åœ¨å¿«æ·é”®çš„ï¼Œå…·ä½“å¯ä»¥å‚è€ƒèµ„æ–™[2]ã€‚ä¸è¿‡æœ¬æ–‡æƒ³æä¾›ä¸€ç§ä¸ç”¨å¿«æ·é”®çš„å®ç°æ–¹æ³•ï¼ŒåŒ…æ‹¬Windowså…¶å®ä¹Ÿå¯ä»¥è¿™ä¹ˆåšã€‚&lt;/p&gt;
&lt;h2 id="è§£å†³æ­¥éª¤"&gt;è§£å†³æ­¥éª¤
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å’Œ[1]ä¸­æ ‡å‡†æ­¥éª¤ä¸€æ ·ï¼Œå…ˆå¯¹å›¾è¡¨è¿›è¡Œæ’å…¥é¢˜æ³¨çš„æ“ä½œï¼Œç„¶ååˆ‡æ¢ç« èŠ‚éƒ¨åˆ†çš„åŸŸä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;æ’å…¥&amp;gt;åŸŸ&lt;/strong&gt;é€‰é¡¹é‡Œéšä¾¿æ·»åŠ ä¸€ä¸ªåŸŸä»£ç ï¼Œæ¯”å¦‚&lt;code&gt;AUTONUM&lt;/code&gt;ï¼ˆä½ç½®å‚è€ƒå›¾1ï¼ŒWindowsç‰ˆåœ¨æ–‡æ¡£éƒ¨ä»¶é‡Œé¢ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹æ’å…¥çš„åŸŸä»£ç å†æ¬¡è¿›è¡Œåˆ‡æ¢åŸŸä»£ç çš„æ“ä½œï¼Œè¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ª&lt;code&gt;{}&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åæŒ‰ç…§ [1]ä¸­çš„æ­¥éª¤å¯¹åº”ä¿®æ”¹åŸŸä»£ç å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/macos-ms-office-auto-number/1.png"
width="306"
height="158"
srcset="https://blog.kuludu.net/article/macos-ms-office-auto-number/1_hu_8a91dfe79d8d894c.png 480w, https://blog.kuludu.net/article/macos-ms-office-auto-number/1_hu_a8ee05be19dbe936.png 1024w"
loading="lazy"
alt="å›¾1"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="464px"
&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶æˆ‘ä»¬ä¸å¯èƒ½æ¯æ¬¡æ’å…¥å›¾è¡¨éƒ½è¿™æ ·æ“ä½œä¸€æ¬¡ï¼ŒåŒæ ·æˆ‘ä»¬ä¸ä½¿ç”¨å¿«æ·é”®ä¹Ÿå¯ä»¥æ·»åŠ æ–‡æ¡£åŸºå—ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…‰æ ‡é€‰æ‹©å›¾æˆ–è¡¨çš„ç¼–å·ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;è‡ªåŠ¨å›¾æ–‡é›†&amp;gt;æ–°å»º&lt;/strong&gt;æ·»åŠ ï¼ˆä½ç½®å‚è€ƒå›¾2ï¼ŒWindowsç‰ˆåŒæ ·åœ¨æ–‡æ¡£éƒ¨ä»¶é‡Œï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;éšä¾¿å–ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚&lt;code&gt;å›¾&lt;/code&gt;ï¼Œç„¶ååœ¨æƒ³æ’å…¥çš„ä½ç½®è¾“å…¥å¯¹åº”å›¾æ–‡é›†çš„åå­—å°±å¯ä»¥å¿«æ·æ’å…¥ç¼–å·äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/macos-ms-office-auto-number/2.png"
width="652"
height="162"
srcset="https://blog.kuludu.net/article/macos-ms-office-auto-number/2_hu_f4ac51fbef2ebd9e.png 480w, https://blog.kuludu.net/article/macos-ms-office-auto-number/2_hu_d5f416d35e956d04.png 1024w"
loading="lazy"
alt="å›¾2"
class="gallery-image"
data-flex-grow="402"
data-flex-basis="965px"
&gt;&lt;/p&gt;
&lt;p&gt;macOSçš„MS OfficeçœŸçš„æ˜¯ä¸ªåŠæˆå“&amp;hellip;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Reference&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class="link" href="https://yxchangingself.xyz/posts/2028856356/" target="_blank" rel="noopener"
&gt;https://yxchangingself.xyz/posts/2028856356/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://support.microsoft.com/zh-cn/office/word-%E4%B8%AD%E7%9A%84%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F-95ef89dd-7142-4b50-afb2-f762f663ceb2#PickTab=macOS" target="_blank" rel="noopener"
&gt;https://support.microsoft.com/zh-cn/office/word-%E4%B8%AD%E7%9A%84%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F-95ef89dd-7142-4b50-afb2-f762f663ceb2#PickTab=macOS&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>æœ‰é”æ ˆä¸æ— é”æ ˆï¼Œå®ç°ä¸æ€§èƒ½å¯¹æ¯”</title><link>https://blog.kuludu.net/article/lock-required-stack-vs-lock-free-stack/</link><pubDate>Fri, 25 Oct 2024 09:35:00 +0800</pubDate><guid>https://blog.kuludu.net/article/lock-required-stack-vs-lock-free-stack/</guid><description>&lt;p&gt;å¤šçº¿ç¨‹åŒæ­¥æ˜¯ç°ä»£ç¨‹åºè®¾è®¡ä¸­ä¸€ä¸ªé‡è¦é—®é¢˜ï¼Œæƒ³è¦æ·±å…¥ç†è§£è¿™ä¸€é—®é¢˜ï¼Œå°±ä¸å¾—ä¸æ·±å…¥åˆ°å¤„ç†å™¨ä¸æ“ä½œç³»ç»Ÿçš„å…·ä½“å®ç°ä¸­ã€‚ä½†æ˜¯æˆ‘æ°´å¹³æœ‰é™â”‘(ï¿£Ğ” ï¿£)â”ï¼Œæœ¬æ–‡ä¸è¿‡äºè¯¦ç»†åœ°å»æ¢è®¨è¿™ä¸€é—®é¢˜ï¼Œè€Œæ˜¯ä»¥æœ‰é”æ ˆä¸æ— é”æ ˆä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œä¸»è¦å¯¹ä»£ç å®ç°ä¸å®éªŒæ€§èƒ½ä¸Šå¯¹ä¸¤è€…è¿›è¡Œä¸€ä¸ªæ¯”è¾ƒã€‚&lt;/p&gt;
&lt;h2 id="æœ‰é”æ ˆä¸æ— é”æ ˆ"&gt;æœ‰é”æ ˆä¸æ— é”æ ˆ
&lt;/h2&gt;&lt;p&gt;æœ‰é”æ ˆçš„å®ç°æ–¹å¼å…¶å®æ¯”è¾ƒç®€å•ï¼Œåœ¨çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºçš„æ—¶å€™åŠ é”å³å¯ï¼Œåœ¨å®Œæˆå¯¹æ ˆçš„æ“ä½œè§£é™¤å¯¹é”çš„å æœ‰ã€‚ä½†æ˜¯åŠ é”è§£é”çš„è¿‡ç¨‹å¯¹èµ„æºçš„æ¶ˆè€—æ¯”è¾ƒå¤§ï¼Œå½“çº¿ç¨‹æ²¡æœ‰Acquireåˆ°é”çš„æ—¶å€™ä¼šå‘ç”ŸçŠ¶æ€çš„åˆ‡æ¢ï¼Œè¿™åœ¨éœ€è¦é«˜æ€§èƒ½è®¡ç®—çš„åœºæ™¯ä¸‹æˆ–è®¸å¹¶ä¸åˆé€‚ã€‚&lt;/p&gt;
&lt;p&gt;Compare And Swap(CAS)æ˜¯ä¸€ç§å¸¸è§çš„åŸå­æ“ä½œï¼Œæ˜¯å®ç°æ— é”åŒæ­¥çš„ä¸€ä¸ªæ–¹å¼ï¼Œå…¶ä¸»è¦æ€æƒ³å°±æ˜¯Compareå’ŒSwapä¸¤ä¸ªè¿‡ç¨‹ã€‚Compareçš„ç›®çš„ä¸»è¦æ˜¯æ¢æµ‹å†…å­˜ä¸­çš„å€¼æ˜¯å¦ä¸ºæœŸå¾…å€¼ï¼Œå¦‚æœæ˜¯åˆ™Swapä¸ºè®¾å®šçš„å€¼ã€‚è¿™ä¸»è¦ä¾èµ–äºå¤„ç†å™¨çš„å®ç°ï¼Œæ¯”å¦‚x86å¤„ç†å™¨çš„&lt;code&gt;CMPXCHG&lt;/code&gt;ä¸ARMå¤„ç†å™¨çš„&lt;code&gt;LDREX/STREX&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id="å®ç°ä¸å®éªŒ"&gt;å®ç°ä¸å®éªŒ
&lt;/h2&gt;&lt;h3 id="cå®ç°"&gt;C++å®ç°
&lt;/h3&gt;&lt;p&gt;æœ¬æ–‡ä¸»è¦å¯¹æ¯”C++æ ‡å‡†åº“å®ç°çš„æ ˆï¼Œä¼šç”¨åˆ°ä¸€äº›æ¯”è¾ƒæ–°çš„C++æ ‡å‡†ï¼Œå®éªŒç¯å¢ƒä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è…¾è®¯äº‘Cloud Studio 1C2Gï¼ˆè‡´è°¢ï¼ï¼‰&lt;/li&gt;
&lt;li&gt;gcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.2)&lt;/li&gt;
&lt;li&gt;g++ experiment.cpp -o experiment -pthread&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†å‡å°‘ä»£ç å†—ä½™ï¼Œä¸¤ä¸ªæ ˆå®ç°çš„å†…éƒ¨æ•°æ®ç»“æ„å‡ä¸ºä»¥ä¸‹ä»£ç æ®µã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;template&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="nc"&gt;Node&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»¥ä¸‹ä¸ºæœ‰é”æ ˆçš„å®ç°ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="nf"&gt;top&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;runtime_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stack is empty.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;next_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;next_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;runtime_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stack is empty.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;is_empty&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="k"&gt;noexcept&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æœ‰é”æ ˆçš„å®ç°ä¸»è¦ä¾èµ–äº’æ–¥é”ï¼ˆmutex &amp;amp; unique_lockï¼‰å®ç°ï¼Œçº¿ç¨‹åœ¨è¿›è¡Œæ¯é¡¹æ“ä½œæ—¶éœ€è¦å…ˆAcquireé”çš„æ‰€æœ‰æƒï¼Œåœ¨æ‰§è¡Œå®Œæ“ä½œåéœ€è¦Releaseé”çš„æ‰€æœ‰æƒã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¸å¯¹ä¿®æ”¹æ“ä½œçš„åˆæ³•æ€§è¿›è¡Œæ£€æŸ¥ï¼Œè€Œæ˜¯é€‰æ‹©ç›´æ¥å¯¹ä¸åˆæ³•çš„è¶Šç•Œæ“ä½œæŠ›å‡ºå¼‚å¸¸ã€‚æœ‰é”æ ˆçš„å®ç°ç®€å•ï¼Œç¬¦åˆä¸€èˆ¬çš„å¤šçº¿ç¨‹ç¼–ç¨‹é€»è¾‘æ¯”è¾ƒç›´è§‚ã€‚åœ¨è¿™é‡Œä½¿ç”¨æ ‡å‡†åº“è‡ªå¸¦çš„RAIIé”ï¼Œç¼–ç¨‹å®ç°éå¸¸ç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹ä¸ºæ— é”æ ˆå®ç°çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;atomic&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_relaxed&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compare_exchange_weak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_release&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_relaxed&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="nf"&gt;top&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_acquire&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;runtime_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stack is empty.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_relaxed&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt; &lt;span class="n"&gt;next_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compare_exchange_weak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next_node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_release&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_relaxed&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="n"&gt;top_node&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;runtime_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Stack is empty.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;is_empty&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="k"&gt;noexcept&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_acquire&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯¹æ¯”æœ‰é”æ ˆï¼Œæ— é”æ ˆåœ¨å®ç°ä¸Šå›°éš¾äº†ä¸å°‘ï¼Œè¿™ä¸»è¦ç‰µæ¶‰åˆ°å¯¹CASçš„ç†è§£ä¸Šã€‚è¿™ä¸€éƒ¨åˆ†çš„ç†è®ºéƒ¨åˆ†åœ¨å‰æ–‡ä¸å‚è€ƒèµ„æ–™ä¸­æœ‰æ¯”è¾ƒè¯¦ç»†çš„æè¿°ï¼Œè¿™é‡Œå†ç®€å•å¯¹C++ä»£ç å®ç°æ–¹é¢åšä¸€ä¸ªè§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;headä½œä¸ºæ ˆé¡¶å…ƒç´ çš„æŒ‡é’ˆï¼Œåœ¨è¿™é‡Œä½¿ç”¨çš„æ˜¯åŸå­å˜é‡ç±»å‹ï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ä¸€ä¸ªCPU Instructionä¸­å®Œæˆå¯¹å˜é‡çš„æ“ä½œï¼Œä»è€Œé¿å…ä¸­é—´çŠ¶æ€çš„äº§ç”Ÿï¼Œä¹Ÿå°±ä¿è¯äº†æ“ä½œçš„åŸå­æ€§ã€‚åŸå­æ“ä½œå­˜åœ¨å†…å­˜åºçš„æ¦‚å¿µï¼Œåœ¨è¿™é‡Œç”¨åˆ°äº†ä¸‰ç§å†…å­˜åºï¼Œåˆ†åˆ«è§£é‡Šå¦‚ä¸‹
&lt;ul&gt;
&lt;li&gt;memory_order_relaxed: æ¾æ•£å†…å­˜é¡ºåºã€‚è¿™ä¸ªæ¨¡å¼ä¿è¯äº†è¯»æ“ä½œä¸ä¼šè¢«é‡æ’ï¼Œä½†å¯¹äºå†™æ“ä½œæ²¡æœ‰ä»»ä½•ä¿è¯ã€‚&lt;/li&gt;
&lt;li&gt;memory_order_releaseï¼šé‡Šæ”¾å†…å­˜é¡ºåºã€‚ä¿éšœäº†è¯»å†™é¡ºåºï¼Œé€šå¸¸ä¸é€‚ç”¨äºload()ã€‚&lt;/li&gt;
&lt;li&gt;memory_order_acquireï¼šè·å–å†…å­˜é¡ºåºã€‚ä¿éšœäº†è¯»å†™é¡ºåºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;atomic.load()&lt;/code&gt;çš„ä½œç”¨æ˜¯å®‰å…¨åœ°è¯»å–ä¸€ä¸ªåŸå­å˜é‡ï¼Œå…¶ä¸­å‚æ•°ä¸ºå†…å­˜åºï¼ˆMemory Orderï¼‰ã€‚åœ¨Pushå’ŒPopæ“ä½œä¸­é€‰æ‹©çš„loadçš„å†…å­˜åºä¸ºmemory_order_relaxedï¼Œè¿™æ˜¯å› ä¸ºè¿™é‡Œè€ƒè™‘CASæ–¹å¼ä¹±åºåœ°æ’å…¥ä¸åˆ é™¤å…ƒç´ ï¼Œå³å…ƒç´ æœ¬èº«çš„é¡ºåºå¹¶ä¸é‡è¦ï¼›è€Œåœ¨IsEmptyæ“ä½œä¸­çš„å†…å­˜åºä¸ºmemory_order_acquireï¼Œè¿™ä¸»è¦æ˜¯è€ƒè™‘åœ¨å½“å‰æ—¶é—´ç‚¹æ‰§è¡ŒIsEmptyçš„ç»“æœçš„æ­£ç¡®æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;atomic.compare_exchange_weak()&lt;/code&gt;ç”¨äºæ‰§è¡ŒåŸå­æ¯”è¾ƒå’Œäº¤æ¢æ“ä½œï¼Œä¹Ÿå°±æ˜¯CASæœºåˆ¶çš„ä¸»è¦å®ç°ã€‚å…¶ä¸­ä¸€ä¸ªå‚æ•°ä¸ºExpectedï¼Œæ˜¯Compareè¿‡ç¨‹æ¯”è¾ƒçš„å€¼ï¼›ç¬¬äºŒä¸ªå˜é‡ä¸ºDesireï¼Œæ˜¯Swapè¿‡ç¨‹æƒ³è¦äº¤æ¢ä¸ºçš„å€¼ã€‚å…¶å·¥ä½œè¿‡ç¨‹ä¸ºï¼Œæ¯”è¾ƒatomicå˜é‡ä¸Expectedæ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™äº¤æ¢ä¸ºDesireï¼Œå¦åˆ™é€€åŒ–ä¸ºä¸€ä¸ªloadçš„è¿‡ç¨‹ï¼Œå°†æœ€æ–°çš„atomicçš„å€¼åŠ è½½è¿›Desireã€‚åä¸¤ä¸ªå‚æ•°åˆ™ä¸ºæ¯”è¾ƒsuccessæˆ–failureåçš„å†…å­˜åºã€‚å€¼å¾—ä¸€æçš„æ˜¯&lt;code&gt;atomic.compare_exchange_strong()&lt;/code&gt;ä¹Ÿå€¼å¾—äº†è§£ï¼Œå…¶ä¸»è¦é€‚ç”¨äºä¸éœ€è¦å¾ªç¯é‡è¯•çš„åœºæ™¯ï¼Œå…³æ³¨å¯é æ€§çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹æœ‰ä¸€äº›éš¾ç†è§£ï¼Œå¦‚æœè¯»åˆ°è¿™é‡Œä½ æœ‰æ‰€å›°æƒ‘ï¼Œå»ºè®®å»æŸ¥æ‰¾æ›´å¤šå…³äºCASæœºåˆ¶åŠC++å†…å­˜åºçš„ç›¸å…³èµ„æ–™ï¼Œæœ¬æ–‡ä¸å†è¯¦ç»†å±•å¼€&lt;del&gt;ï¼ˆæ²¡é”™æˆ‘ä¹Ÿè®²ä¸æ˜ç™½ğŸ˜”ï¼‰&lt;/del&gt;ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¿›è¡Œå…¬å¹³å¯¹æ¯”ï¼Œåœ¨è¿™é‡Œå®šä¹‰å®éªŒä»»åŠ¡ä¸ºï¼šåœ¨æ¯ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œ&lt;code&gt;1,000,000&lt;/code&gt;æ¬¡å…¥æ ˆæ“ä½œï¼Œå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;ok&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;enqueue&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1000000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;stack&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çº¿ç¨‹æ± åˆ›å»ºäº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œä»ä»»åŠ¡åˆ›å»ºå¼€å§‹è®¡æ—¶ï¼Œä»¥ä¸¤ä¸ªçº¿ç¨‹çš„å…¥æ ˆä»»åŠ¡ç»“æŸæˆªæ­¢è®¡æ—¶ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;high_resolution_clock&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// Assign tasks to thread pool.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ok_1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;ok_2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;stop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;high_resolution_clock&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;duration&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;duration_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;microseconds&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;duration&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æœ¬æ–‡æ‰€æåˆ°çš„çº¿ç¨‹æ± ã€æœ‰é”æ ˆå’Œæ— é”æ ˆçš„å®Œæ•´ä»£ç å®ç°å‡å¯åœ¨æœ¬äººçš„å¼€æºé¡¹ç›®&lt;a class="link" href="https://github.com/Kuludu/MyDSA/" target="_blank" rel="noopener"
&gt;MyDSA&lt;/a&gt;ä¸­æ‰¾åˆ°ï¼ˆå¦‚æœå¯¹ä½ æœ‰ç”¨ï¼Œä¹Ÿéº»çƒ¦ç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå‘€ï¼ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="å®éªŒç»“æœ"&gt;å®éªŒç»“æœ
&lt;/h3&gt;&lt;p&gt;å®éªŒç»“æœå¦‚ä¸‹è¡¨ï¼ˆå•ä½ä¸ºmicrosecondï¼‰ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹æ³•&lt;/th&gt;
&lt;th&gt;æœ‰é”æ ˆ&lt;/th&gt;
&lt;th&gt;æ— é”æ ˆ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;#1&lt;/td&gt;
&lt;td&gt;1,003,863&lt;/td&gt;
&lt;td&gt;399,217&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;#2&lt;/td&gt;
&lt;td&gt;884,579&lt;/td&gt;
&lt;td&gt;186,314&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;#3&lt;/td&gt;
&lt;td&gt;1,013,956&lt;/td&gt;
&lt;td&gt;427,235&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Avg&lt;/td&gt;
&lt;td&gt;967,466&lt;/td&gt;
&lt;td&gt;337,588&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä»å®éªŒç»“æœçš„å¹³å‡å€¼æ¥çœ‹ï¼Œæœ‰é”æ ˆç›¸è¾ƒäºæ— é”æ ˆå¿«äº†2.86å€ã€‚å½“ç„¶è¿™åªæ˜¯ä»å…¥æ ˆæ•ˆç‡ä¸Šæ¥è¿›è¡Œæ¯”è¾ƒçš„ï¼Œå¦‚æœåŠ ä¸Šéšæœºå‡ºæ ˆä¸å–å€¼æ“ä½œå¯èƒ½ä¼šæœ‰å·®å¼‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="reference"&gt;Reference
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://tech.meituan.com/2024/07/19/multi-threading-and-multi-thread-synchronization.html" target="_blank" rel="noopener"
&gt;åŸºæœ¬åŠŸ | ä¸€æ–‡è®²æ¸…å¤šçº¿ç¨‹å’Œå¤šçº¿ç¨‹åŒæ­¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://blog.csdn.net/davidhopper/article/details/131430830" target="_blank" rel="noopener"
&gt;C++æ— é”ç¼–ç¨‹â€”â€”æ— é”æ ˆ(lock-free stack)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://www.cnblogs.com/ljmiao/p/18145946" target="_blank" rel="noopener"
&gt;C++å…­ç§å†…å­˜åºè¯¦è§£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>ä½ å¥½ï¼æ–°åšå®¢</title><link>https://blog.kuludu.net/article/hello-new-blog/</link><pubDate>Sat, 15 Jun 2024 19:45:00 +0800</pubDate><guid>https://blog.kuludu.net/article/hello-new-blog/</guid><description>&lt;p&gt;çªç„¶æ¢äº†ä¸€ä¸ªæ–°çš„åšå®¢å‘å¸ƒæ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ä¸»è¦åŸå› è¿˜æ˜¯åŸæ¥çš„åšå®¢æœåŠ¡å™¨ç°åœ¨å·²ç»è¿è¡Œå¤ªå¤šçš„æœåŠ¡ä»è€Œä¸å ªé‡è´Ÿï¼Œapacheæ—¶ä¸æ—¶è¢«OOM Killå¯¼è‡´åšå®¢ä¹Ÿæ—¶ä¸æ—¶è·Ÿç€å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;åŠ ä¹‹åŸåšå®¢ä¸ªäººæ„Ÿè§‰æ›´åƒä¸€ä¸ªç¬”è®°æœ¬ï¼Œå…¶è®°å½•çš„è‰ç¨¿ä¸€èˆ¬çš„å†…å®¹ä¸€ç›´æ˜¯æˆ‘æƒ³æ”¹è¿›çš„ï¼ˆè™½ç„¶æˆ‘çš„å†™ä½œèƒ½åŠ›ä»ç„¶ä¸è¡Œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä¸å¦‚åšä¸€ä¸ªfresh startï¼Œä»ä¸€ä¸ªæ–°åšå®¢é‡æ–°å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;æ–°çš„åšå®¢æ˜¯ä¸€ä¸ªé™æ€åšå®¢ï¼Œé‡‡ç”¨hugoä½œä¸ºç”Ÿæˆå™¨ã€‚ç„¶è€Œç›®å‰æˆ‘å¯¹è¿™ä¸ªæ–°ç©æ„è¿˜å¾ˆä¸ç†Ÿæ‚‰ï¼Œä¼°è®¡ä¹Ÿéœ€è¦å¾ˆé•¿ä¸€æ®µæ—¶é—´æ‰èƒ½é€‚åº”å§ï½&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼ŒåŸæ¥çš„åšå®¢ä¸Šä»ç„¶æœ‰ä¸å°‘æœ‰ä»·å€¼çš„æ–‡ç« ï¼Œæˆ‘ä¼šåœ¨åç»­çš„reviewè¿‡ç¨‹ä¸­è¿ç§»è¿‡æ¥ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›èƒ½å¤Ÿæ”¹è¿›æ–‡ç« è´¨é‡ï¼Œè€åšå®¢å·²ç»è¿ç§»åˆ°äº†&lt;a class="link" href="https://old-blog.kuludu.net/" target="_blank" rel="noopener"
&gt;https://old-blog.kuludu.net/&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Anyway, that is a new start.&lt;/p&gt;</description></item><item><title>å¤šç½‘å£ç¯å¢ƒä¸‹é…ç½®Ubuntuç½‘ç»œè·¯ç”±</title><link>https://blog.kuludu.net/article/%E5%A4%9A%E7%BD%91%E5%8F%A3%E7%8E%AF%E5%A2%83%E4%B8%8B%E9%85%8D%E7%BD%AEubuntu%E7%BD%91%E7%BB%9C%E8%B7%AF%E7%94%B1/</link><pubDate>Mon, 20 May 2024 00:00:00 +0000</pubDate><guid>https://blog.kuludu.net/article/%E5%A4%9A%E7%BD%91%E5%8F%A3%E7%8E%AF%E5%A2%83%E4%B8%8B%E9%85%8D%E7%BD%AEubuntu%E7%BD%91%E7%BB%9C%E8%B7%AF%E7%94%B1/</guid><description>&lt;p&gt;ç›®å‰æˆ‘ä»¬çš„å®éªŒå®¤æœ‰ä¸¤æ¡çº¿è·¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;172.C.D.0/24: æ ¡å›­ç½‘ï¼ˆä¸å¯è¿æ¥äº’è”ç½‘ï¼Œä½†å¯ä»¥æ¥å…¥VPNï¼‰&lt;/li&gt;
&lt;li&gt;192.168.B.0/24: å®éªŒå®¤å®½å¸¦ç½‘ï¼ˆå¯ä»¥è¿æ¥äº’è”ç½‘ï¼Œä½†æ˜¯æ²¡æœ‰å…¬ç½‘IPï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬çš„ä¸»è¦éœ€æ±‚æ˜¯é€šè¿‡æ ¡å›­ç½‘å®ç°è¿œç¨‹SSHæ¥å…¥ï¼Œé€šè¿‡å®éªŒå®¤å®½å¸¦ç½‘è®¿é—®äº’è”ç½‘ã€‚ä½†æ˜¯ç”±äºUbuntuç”Ÿæˆçš„é»˜è®¤ç½‘å…³ä¼šè‡ªåŠ¨å°†æ‰€æœ‰æµé‡è½¬åˆ°metricå°çš„æ¥å£ä¸Šï¼Œè¿™å°†å¯¼è‡´åŸæœ¬åº”è¯¥ä»æ ¡å›­ç½‘å‡ºå£æµå‡ºçš„SSHæµé‡ä¹Ÿèµ°äº†å®éªŒå®¤å®½å¸¦ç½‘ï¼Œä»è€Œæ— æ³•å»ºç«‹SSHè¿æ¥ã€‚è¿™å°±éœ€è¦å¯¹è·¯ç”±è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡netplanå·¥å…·è¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæ ¡å›­ç½‘çš„è·¯ç”±å·²ç»å»ºç«‹ä¸”æ­£ç¡®ï¼Œæ‰€ä»¥åœ¨é»˜è®¤ç½‘ç»œé…ç½®ä¸‹çš„ä¸»è¦é—®é¢˜å…¶å®æ˜¯&lt;strong&gt;ä¸»æœºå†…è·¯ç”±è¡¨èƒ½å¦æ­£ç¡®æ‰¾åˆ°åˆ°å®¢æˆ·ç«¯çš„è·¯ç”±è·¯å¾„&lt;/strong&gt;ï¼Œè€Œä¸”ç”±äºVPNçš„å­˜åœ¨ï¼Œ&lt;strong&gt;è¿˜éœ€è¦è€ƒè™‘å…¶äº§ç”Ÿçš„è™šæ‹ŸIPåˆ°ä¸»æœºçš„è·¯ç”±&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘&lt;code&gt;/etc/netplan/50-cloud-init.yaml&lt;/code&gt;ï¼ˆè¿™æ˜¯Ubuntu 24.04é»˜è®¤çš„ç½‘ç»œé…ç½®æ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå˜åŠ¨ï¼‰ï¼Œå°†è·¯ç”±é¡¹å†™å…¥ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;network:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ethernets:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; eno1:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; addresses:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - 172.C.D.E/24 # ä¸»æœºæ ¡å›­ç½‘IP
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; routes:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - to: 172.A.0.0/12 # æ•´ä¸ªæ ¡å›­ç½‘çš„å­ç½‘
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; via: 172.C.D.1 # å½“å‰ç½‘å…³ï¼ˆä¸‹åŒï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; - to: 211.64.0.0/13 # VPNçš„è™šæ‹ŸIPå­ç½‘
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; via: 172.C.D.1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; eno2:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; dhcp4: true # å®éªŒå®¤å®½å¸¦ç½‘ï¼ˆç›´æ¥ä½¿ç”¨DHCPé…ç½®ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥ä½¿ç”¨netplan applyè¿›è¡Œåº”ç”¨ï¼Œå°±å¯ä»¥å®ç°ä¸¤æ¡çº¿è·¯åˆ†å·¥å·¥ä½œäº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå®ç°ä¸Šè¿°ç›®æ ‡è¿˜æœ‰å…¶å®ƒæ–¹æ³•ï¼ˆä¾‹å¦‚é€šè¿‡è®¾ç½®è·¯ç”±è¡¨ä½¿æµé‡å¼ºåˆ¶èµ°æ¥æ—¶çš„æ¥å£ï¼‰ï¼Œä½†æ˜¯è¿™äº›åšæ³•ç¨æ˜¾å¤æ‚ï¼Œå°±ä¸åœ¨æ­¤èµ˜è¿°äº†ã€‚&lt;/p&gt;</description></item><item><title>ä»LightHouseåˆ°CVM</title><link>https://blog.kuludu.net/article/%E4%BB%8Elighthouse%E5%88%B0cvm/</link><pubDate>Wed, 20 Dec 2023 13:13:52 +0800</pubDate><guid>https://blog.kuludu.net/article/%E4%BB%8Elighthouse%E5%88%B0cvm/</guid><description>&lt;p&gt;å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œè¶ç€è¿ç§»æœåŠ¡å™¨çš„åŠ²å¤´é¡ºä¾¿è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id="ä¸ºä»€ä¹ˆè¦è¿ç§»"&gt;ä¸ºä»€ä¹ˆè¦è¿ç§»ï¼Ÿ
&lt;/h2&gt;&lt;p&gt;å…¶å®ç›®å‰è¿™å°åšå®¢æœåŠ¡å™¨ä¸ŠåŒæ—¶è¿è¡Œç€å¤šä¸ªæœåŠ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Typechoï¼ˆä¹Ÿå°±æ˜¯æœ¬åšå®¢ï¼‰&lt;/li&gt;
&lt;li&gt;kodboxç½‘ç›˜&lt;/li&gt;
&lt;li&gt;HackJNDoor&lt;a class="link" href="https://github.com/Kuludu/HackJNDoor" target="_blank" rel="noopener"
&gt;ï¼ˆhttps://github.com/Kuludu/HackJNDoorï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;frpï¼ˆå‡ ä¹ä¸ä½¿ç”¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶è€Œï¼Œæºç«™æ˜¯æˆ‘ä¸‰å¹´å‰åœ¨è…¾è®¯äº‘çš„æŸä¸ªæ´»åŠ¨è´­ä¹°çš„LightHouseä¸»æœºï¼ˆä¸‰å¹´æœŸï¼‰ï¼Œåªæœ‰6Mçš„å‡ºå£å¸¦å®½å®åœ¨æ˜¯æ»¡è¶³ä¸äº†å¹³æ—¶ç½‘ç›˜çš„æ—¥å¸¸ä½¿ç”¨ï¼ˆè¿™ä¸ªæƒ…å†µéšç€æ•°æ®çš„å¢åŠ æ„ˆå‘æ˜¾è‘—ğŸ¤·ï¼‰ï¼Œå†åŠ ä¹‹ä¸»æœºå³å°†è¿‡æœŸï¼Œæ‰€ä»¥å°±æœ‰äº†è¿ç§»çš„å¿µå¤´ã€‚&lt;/p&gt;
&lt;h2 id="å¾€å“ªå„¿è¿ç§»"&gt;å¾€å“ªå„¿è¿ç§»ï¼Ÿ
&lt;/h2&gt;&lt;p&gt;å› ä¸ºæœ‰å¤‡æ¡ˆçš„åŸå› ï¼Œæ‰€ä»¥æˆ‘ä¼˜å…ˆè€ƒè™‘è…¾è®¯äº‘ï¼ˆè¿™ä¹Ÿç®—æ˜¯è¢«ç»‘å®šäº†å§ï¼‰ã€‚é‚£ä¹ˆåŸºæœ¬ä¸Šå°±åªå‰©ä¸‹äº†ç»§ç»­è´­ä¹°LightHouseæˆ–è€…è½¬CVMä¸¤ä¸ªé€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;è…¾è®¯äº‘çš„LightHouseé‡‡å–çš„æ˜¯æ†ç»‘é”€å”®çš„æ¨¡å¼ï¼Œ2U2Gçš„å…¸å‹å¸¦å®½åŸºæœ¬å›´ç»•åœ¨4Må·¦å³ï¼Œè¿™ç”šè‡³è¿˜ä¸å¦‚æˆ‘è¿™ä¸ªæ´»åŠ¨æœº&amp;hellip;å†è€…æˆ‘è¿è¡Œçš„æœåŠ¡ä¸»è¦æ˜¯æµé‡çªå‘ï¼Œå¤§å¤šæ•°æ—¶å€™åªéœ€è¦ç¬æ—¶é«˜å¸¦å®½ï¼ŒæŒ‰ç…§å¸¦å®½è®¡è´¹å®åœ¨æ˜¯æµªè´¹ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯æˆ‘æŠŠç›®å…‰è½¬å‘äº†CVMã€‚&lt;/p&gt;
&lt;p&gt;è¯´å¥è€å®è¯ï¼Œæˆ‘å¯¹CVMçš„å°è±¡è¿˜åœç•™åœ¨å¥½å‡ å¹´å‰ï¼Œå¯¹é€šè´§è†¨èƒ€åCVMçš„ä»·æ ¼æ›´æ˜¯å·²ç»å®Œå…¨æ²¡äº†æ¦‚å¿µï¼ˆå¯¹äºç©·è‹¦ç ”ç©¶ç”Ÿæ¥è¯´å¥½è´µå‘€ğŸ˜“ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å§ï¼Œå¯¹äºæˆ‘è¿™ç§ä¸šåŠ¡é‡å…¶å®ç”¨æ˜Ÿæ˜Ÿæµ·æœåŠ¡å™¨ï¼ˆSA2ç³»åˆ—ï¼‰ä¸­æœ€ä½é…ç½®çš„è¯ï¼Œæ€»ä½“æˆæœ¬è¿˜æ˜¯è¦ä½äºLightHouseçš„ï¼ŒåŠ ä¸Šæˆ‘å¯¹ç¡¬ç›˜è¯»å†™ä¹Ÿå®Œå…¨æ²¡æœ‰è¦æ±‚ï¼Œä¸ç”¨SSDåˆå¯ä»¥çœä¸€å¤§ç¬”ã€‚åŒæ—¶åˆ‡æ¢æµé‡è®¡è´¹ï¼Œç”¨100Mçš„å¸¦å®½åªè¦Â¥0.8/Gï¼Œè¿™å¯¹æˆ‘æœˆå‡ç”¨ä¸åˆ°3ä¸ªGçš„ä¸ªäººå¼€å‘è€…å°±éå¸¸å‹å¥½äº†ï¼ˆå½“ç„¶æˆ‘å®é™…ä¸Šæ²¡æœ‰è®¾ç½®è¿™ä¹ˆé«˜ï¼Œå› ä¸ºç”¨ä¸åˆ°ğŸ¤·ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå—äº¬åŒºæœ€è¿‘åˆåœ¨ææ´»åŠ¨ï¼Œæˆ‘çš„ç‰©ç†ä½ç½®ç¦»å—äº¬ä¹ŸæŒºè¿‘çš„ï¼Œå°±å®ƒäº†ã€‚&lt;/p&gt;
&lt;h2 id="æ€æ ·è¿ç§»"&gt;æ€æ ·è¿ç§»ï¼Ÿ
&lt;/h2&gt;&lt;p&gt;é¦–å…ˆï¼Œç”±äºCentOSå³å°†åœæ­¢ç»´æŠ¤ï¼Œè€ä¸»æœºçš„ç³»ç»Ÿå¾—æ¢æ‰äº†&amp;hellip;å› ä¸ºç§‘ç ”å·¥ä½œçš„ç¼˜æ•…æˆ‘è¿‘å¹´æ¥ç”¨Ubuntuç”¨çš„ç›¸å¯¹è¾ƒå¤šï¼Œæ‰€ä»¥è¿™æ¬¡å†³å®šåŠ å…¥Debianç³»åˆ—å‘è¡Œç‰ˆçš„é˜µè¥ã€‚ç¼ºç‚¹å°±æ˜¯æ— æ³•æŒ‰æ–‡ä»¶è¿ç§»ï¼Œè€Œä¸”å¥½å¤šè½¯ä»¶éœ€è¦é‡æ–°éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å¥½åœ¨æˆ‘çš„ä¸šåŠ¡å¹¶ä¸å¤æ‚ï¼Œç›´æ¥æ‰“åŒ…æ•´ä¸ªç½‘é¡µç¨‹åºå°±å¥½äº†ï¼Œå°±æ˜¯ä»å¹¿å·LightHouseåˆ°å—äº¬CVMæ²¡æœ‰å†…ç½‘ï¼ˆäº‘è”ç½‘è¦æ”¶è´¹ï¼‰ï¼Œç”¨6Mçš„å°æ°´ç®¡é€šè¿‡SFTPä¼ æ–‡ä»¶å¾ˆæ¼«é•¿ã€‚&lt;/p&gt;
&lt;p&gt;å€Ÿç€è¿™ä¸ªæœºä¼šï¼Œæˆ‘ä¹Ÿå¯¹Apacheçš„VirtualHosté€»è¾‘è¿›è¡Œäº†é‡å†™ï¼Œæˆ‘æ‰å‘ç°å‡ å¹´å‰å†™çš„è½¬å‘ç­–ç•¥æœ‰å¾ˆå¤§çš„é—®é¢˜ğŸ¤¦&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;åœ¨éƒ¨ç½²ç½‘ç›˜çš„æ—¶å€™æˆ‘æœ‰ç•™æ„ä¸€ä¸‹åå°è´Ÿè½½ï¼Œå‘ç°æœ‰æ—¶å€™åœ¨é•¿æ—¶é—´ä¸è®¿é—®åçªç„¶ä½¿ç”¨CPUè´Ÿè½½ä¼šé£™åˆ°éå¸¸é«˜çš„ç¨‹åº¦ï¼ŒçŒœæµ‹è¿™ä¸æŸäº›ç¼“å­˜ç­–ç•¥æœ‰å…³ã€‚ä¸è¿‡å¤§éƒ¨åˆ†æ—¶é—´æ•´ä½“è´Ÿè½½éƒ½ä¸é«˜ã€‚ä»æˆ‘ç›®å‰çš„å·¥ä½œæµæ¥è¯´ï¼Œä¹Ÿä¸å¤ªå¯èƒ½å‡ºç°å¤§è§„æ¨¡æ–‡ä»¶è¯»å†™çš„åœºæ™¯ï¼Œæ‰€ä»¥ç›®å‰çš„è¿ç§»ç®—æ˜¯okayçš„ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®å¥½ä¸€åˆ‡ï¼Œåˆ‡æ¢DNSå¹³æ»‘è¿‡æ¸¡ğŸ‘ã€‚&lt;/p&gt;
&lt;h2 id="æ€»ç»“"&gt;æ€»ç»“
&lt;/h2&gt;&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œç›®å‰è¿ç§»çš„ä½“éªŒè¿˜æ˜¯å¾ˆå¥½çš„ï¼Œä¹Ÿå¸Œæœ›æœªæ¥ä¸€ä¸ªå¤šæœˆçš„è¿‡æ¸¡æœŸæ²¡æœ‰ä»€ä¹ˆå²”å­å§ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å†™çš„æ¯”è¾ƒæ„è¯†æµï¼Œä½†æ˜¯è¿˜æ˜¯å¸Œæœ›å¯¹å’Œæˆ‘ä¸€æ ·è¿‘æœŸæœ‰æœåŠ¡å™¨è¿ç§»æ‰“ç®—çš„ä¸ªäººå¼€å‘è€…æœ‰å¸®åŠ©ã€‚ï¼ˆæˆ‘è¿™åšå®¢ä¼°è®¡ä¹Ÿæ²¡äººçœ‹ğŸ¤·ï¼‰&lt;/p&gt;</description></item><item><title>å…³äºæ–‡çŒ®å¯¼å…¥EndNote20å­—æ®µé»˜è®¤ä¸æ”¯æŒçš„é—®é¢˜</title><link>https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 21 Aug 2023 14:41:30 +0800</pubDate><guid>https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/</guid><description>&lt;p&gt;åœ¨Google Scholaræˆ–è€…å…¶å®ƒæ•°æ®åº“å‘EndNote20ä¸­å¯¼å…¥å¼•æ–‡çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šå‘ç°å…¶å­—æ®µä¸å—æ”¯æŒã€‚å¦‚åœ¨é»˜è®¤è®¾ç½®ä¸­ï¼Œ&lt;code&gt;Journal Article&lt;/code&gt;å°±æ²¡æœ‰&lt;code&gt;Publisher&lt;/code&gt;è¿™ä¸€ä¸ªå­—æ®µï¼Œè™½ç„¶å¤§å¤šæ•°è®ºæ–‡å¼•ç”¨æ ¼å¼å¹¶ä¸è¦æ±‚å†™å‡ºå‡ºç‰ˆå•†ï¼Œä½†æ˜¯å¯¹äºæŸä¸€äº›ç¼ºå¤±çš„å­—æ®µæ— æ³•è¢«æ·»åŠ è¿˜æ˜¯ä¼šé€ æˆä¸€äº›éº»çƒ¦çš„ã€‚æœ¬æ–‡å°±æ–‡çŒ®å¯¼å…¥åˆ°å¼•ç”¨å¯¼å‡ºå…¨æµç¨‹ä»‹ç»EndNote20è‡ªå®šä¹‰å­—æ®µè®¾ç½®é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id="åœ¨è®¾ç½®ä¸­ä¿®æ”¹reference-typeså¼•ç”¨ç±»å‹"&gt;åœ¨è®¾ç½®ä¸­ä¿®æ”¹Reference Typesï¼ˆå¼•ç”¨ç±»å‹ï¼‰
&lt;/h2&gt;&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨&lt;code&gt;Settings &amp;gt; Reference Types&lt;/code&gt;ä¸­ä¿®æ”¹é»˜è®¤çš„å¼•ç”¨ç±»å‹ã€‚åœ¨è¿™é‡Œçš„ä¿®æ”¹æ˜¯é’ˆå¯¹æŸä¸€æ–‡ç« ç±»å‹æ¥çš„ï¼Œè¿™é‡Œæ ¹æ®éœ€è¦å¯ä»¥ä¿®æ”¹ä¸¤ä¸ªå¸¸ç”¨ç±»å‹&lt;code&gt;Journal Articleï¼ˆæœŸåˆŠæ–‡ç« ï¼‰&lt;/code&gt;å’Œ&lt;code&gt;Conference Proceedingsï¼ˆä¼šè®®å‡ºç‰ˆç‰©ï¼‰&lt;/code&gt;ï¼ˆä¸‹åŒï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥&lt;code&gt;Journal Articleï¼ˆæœŸåˆŠæ–‡ç« ï¼‰&lt;/code&gt;ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ&lt;code&gt;Publisher&lt;/code&gt;å­—æ®µå…¶å®æ˜¯å—æ”¯æŒçš„ï¼Œä¸è¿‡åœ¨EndNote20ä¸­è¢«é»˜è®¤éšè—äº†ã€‚å°†ç•™ç©ºçš„&lt;code&gt;Publisher&lt;/code&gt;å­—æ®µé‡æ–°å¡«å……ä¸Šå»å³å¯å¯ç”¨è¯¥å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/3279012832.png"
width="1086"
height="1294"
srcset="https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/3279012832_hu_392649173bacb366.png 480w, https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/3279012832_hu_f56f8c5335d930a7.png 1024w"
loading="lazy"
alt="Modify ref"
class="gallery-image"
data-flex-grow="83"
data-flex-basis="201px"
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰å…¶å®ƒè‡ªå®šä¹‰å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;Custom 1 ~ 8&lt;/code&gt;å…«ä¸ªæ ä½ï¼Œå°†éœ€è¦çš„å­—æ®µåç§°å¡«å…¥å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–‡çŒ®é€‰é¡¹å¡ä¸­çœ‹åˆ°æ–°çš„å­—æ®µäº†ã€‚&lt;/p&gt;
&lt;h2 id="ä¿®æ”¹é»˜è®¤çš„import-filterså¯¼å…¥è¿‡æ»¤å™¨"&gt;ä¿®æ”¹é»˜è®¤çš„Import Filtersï¼ˆå¯¼å…¥è¿‡æ»¤å™¨ï¼‰
&lt;/h2&gt;&lt;p&gt;æ—¢ç„¶EndNote20é»˜è®¤å…³é—­äº†&lt;code&gt;Publisher&lt;/code&gt;å­—æ®µï¼Œé‚£ä¹ˆå¯¼å…¥è¿‡æ»¤å™¨è‡ªç„¶ä¹Ÿæ˜¯é»˜è®¤å¿½ç•¥è¯¥å­—æ®µçš„äº†ï¼Œåœ¨è¿™ä¸€æ­¥æˆ‘ä»¬éœ€è¦é‡æ–°å¯ç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;Tools &amp;gt; Import Filters&lt;/code&gt;ä¸­é€‰æ‹©&lt;code&gt;Open Filter Manager&lt;/code&gt;ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸º&lt;code&gt;EndNote Import&lt;/code&gt;è¿‡æ»¤å™¨ï¼Œè¿™ä¾¿æ˜¯éœ€è¦ä¿®æ”¹çš„å¯¹è±¡äº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œå¯ä»¥ç›´æ¥ç‚¹å‡»&lt;code&gt;Edit&lt;/code&gt;è¿›è¡Œä¿®æ”¹ï¼Œä¸è¿‡è¿˜æ˜¯æ›´æ¨èå°†é»˜è®¤è®¾ç½®å¤åˆ¶ä¸€ä»½åå†è¿›è¡Œæ“ä½œã€‚åœ¨macOSä¸‹Filtersçš„è·¯å¾„ä¸ºEndNote20å®‰è£…è·¯å¾„ä¸‹çš„&lt;code&gt;Filters&lt;/code&gt;æ–‡ä»¶å¤¹ï¼ŒWindowsçš„è·¯å¾„é€»è¾‘åº”è¯¥ä¹Ÿç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å°†&lt;code&gt;%I&lt;/code&gt;æ ‡ç­¾å¯¹åº”çš„{IGNORE}çš„æ ‡è®°ä¿®æ”¹ä¸º&lt;code&gt;Publisher&lt;/code&gt;å³å¯ï¼Œå…¶å®ƒæ ‡ç­¾çš„å«ä¹‰å¯ä»¥æœç´¢å‚è€ƒRISæ–‡ä»¶çš„æ ¼å¼è¯´æ˜ï¼Œè‡ªå®šä¹‰å­—æ®µäº¦æ˜¯å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/244797325.png"
width="1624"
height="1310"
srcset="https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/244797325_hu_9562685998dbcbed.png 480w, https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/244797325_hu_a3c9973172794ccd.png 1024w"
loading="lazy"
alt="Endnote Import"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="297px"
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¯¼å…¥æ–‡çŒ®çš„æ—¶å€™è®°å¾—è¦é€‰æ‹©æ–°ä¿®æ”¹çš„è¿‡æ»¤å™¨ã€‚å¯¹äºéRISæ ¼å¼çš„å¼•ç”¨ï¼Œåˆ™éœ€è¦ä¿®æ”¹å¯¹åº”çš„Import Filterã€‚&lt;/p&gt;
&lt;h2 id="ä¿®æ”¹é»˜è®¤çš„output-styleså¯¼å‡ºæ ¼å¼"&gt;ä¿®æ”¹é»˜è®¤çš„Output Stylesï¼ˆå¯¼å‡ºæ ¼å¼ï¼‰
&lt;/h2&gt;&lt;p&gt;ç”±äºåœ¨æˆ‘çš„è®ºæ–‡å†™ä½œä¸­å‡ ä¹åªä½¿ç”¨LaTeXä½œä¸ºæ’ç‰ˆå·¥å…·ï¼Œåœ¨è¿™é‡Œæˆ‘ç€é‡ä»‹ç»ä¸€ä¸‹Bibliographyçš„å¯¼å‡ºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;Tools &amp;gt; Output Styles&lt;/code&gt;ä¸­é€‰æ‹©&lt;code&gt;Open Style Manager&lt;/code&gt;ï¼Œä¿®æ”¹&lt;code&gt;BibTex Export&lt;/code&gt;å³å¯ï¼ŒåŒæ ·åœ°ä¹Ÿæ¨èå¤‡ä»½ä¸€éé»˜è®¤è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;é€‰æ‹©&lt;code&gt;Bibliography&lt;/code&gt;é€‰é¡¹å¡ï¼Œå°†éœ€è¦çš„å­—æ®µä»¥åŒæ ·çš„æ ¼å¼æ·»åŠ è¿›å»å³å¯ï¼Œæ³¨æ„ä¿®æ”¹å¯¹åº”çš„æ–‡ç« ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/428477272.png"
width="1824"
height="1300"
srcset="https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/428477272_hu_58f8ff5445f394ed.png 480w, https://blog.kuludu.net/article/%E5%85%B3%E4%BA%8E%E6%96%87%E7%8C%AE%E5%AF%BC%E5%85%A5endnote20%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E9%97%AE%E9%A2%98/pics/428477272_hu_3e4d702eb1829e88.png 1024w"
loading="lazy"
alt="Bibliography Export"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="336px"
&gt;&lt;/p&gt;
&lt;p&gt;åŒæ ·åœ°ï¼Œè‹¥æ˜¯éœ€è¦ä¿®æ”¹çº¯æ–‡æœ¬çš„å¯¼å‡ºæ ¼å¼ï¼Œå¯ä»¥ä¿®æ”¹&lt;code&gt;Citations&lt;/code&gt;é€‰é¡¹å¡ä¸‹çš„å†…å®¹ï¼Œè¯»è€…å¯ä»¥æœç´¢ç›¸å…³èµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒEndNote20å·²ç»å¯ä»¥å®Œç¾åœ°æ”¶å½•å’Œå¯¼å‡ºæ‰€éœ€çš„å­—æ®µäº†ã€‚&lt;/p&gt;</description></item><item><title>è®°åœ¨Ubuntu 22.04 LTSä¸Šéƒ¨ç½²PyTorchæ·±åº¦å­¦ä¹ ç¯å¢ƒ</title><link>https://blog.kuludu.net/article/%E8%AE%B0%E5%9C%A8ubuntu-22-04-lts%E4%B8%8A%E9%83%A8%E7%BD%B2pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83/</link><pubDate>Mon, 20 Feb 2023 12:48:10 +0800</pubDate><guid>https://blog.kuludu.net/article/%E8%AE%B0%E5%9C%A8ubuntu-22-04-lts%E4%B8%8A%E9%83%A8%E7%BD%B2pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83/</guid><description>&lt;p&gt;æœ€è¿‘çš„å·¥ä½œéœ€è¦ä½¿ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œä¹Ÿå°±å…ä¸äº†ä½¿ç”¨GPUï¼Œç„¶è€Œç›®å‰æˆ‘å®éªŒå®¤çš„æœºå™¨ä¸Šä½¿ç”¨çš„æ˜¯Windows 11çš„æ“ä½œç³»ç»Ÿï¼Œç”¨æ¥è¿›è¡Œå®éªŒç¡®ä¸ç¬¦åˆæˆ‘ä¸€ä¸ªå¸¸å¹´ä¸ç”¨Windowsç³»ç»Ÿçš„äººçš„ä¹ æƒ¯ğŸ˜“ï¼Œäºæ˜¯æˆ‘ä¹°æ¥ä¸€å—ç§»åŠ¨ç¡¬ç›˜å¹¶åœ¨è¿™ä¹‹ä¸Šéƒ¨ç½²äº†åŸºäºUbuntu 22.04 LTSçš„PyTorchçš„æ·±åº¦å­¦ä¹ ç¯å¢ƒã€‚èµ·åˆæˆ‘ä»¥ä¸ºä¼šä¸€åˆ‡é¡ºåˆ©ï¼Œå¯ä¸‡ä¸‡æ²¡æƒ³åˆ°é‡è£…ä¸€æ—¶çˆ½ï¼Œé…ç¯å¢ƒç«è‘¬åœº&amp;hellip;æœ¬æ–‡è°¨è®°å½•åœ¨è¿™ä¸­è¸©çš„å‘ã€‚&lt;/p&gt;
&lt;h2 id="å…³äºç§»åŠ¨ç¡¬ç›˜å¤–æŒ‚æ“ä½œç³»ç»Ÿ"&gt;å…³äºç§»åŠ¨ç¡¬ç›˜å¤–æŒ‚æ“ä½œç³»ç»Ÿ
&lt;/h2&gt;&lt;p&gt;å°±ç›®å‰æ¥è¯´ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š&lt;strong&gt;ä¸è¦è¿™ä¹ˆåšï¼Œè‡³å°‘ä¸è¦ä½¿ç”¨æœºæ¢°ç¡¬ç›˜ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘æ‰‹ä¸Šè¿™å—æ˜¯WD Elementçš„æœºæ¢°ç§»åŠ¨ç¡¬ç›˜ï¼Œç®€å•æµ‹è¯•äº†ä¸€ä¸‹é¡ºåºè¯»å†™é€Ÿåº¦ï¼Œåˆ†åˆ«ä¸ºï¼š5.7GB/Så’Œ128MB/Sã€‚çœ‹ç€è¿˜ä¸é”™ï¼Œå¯ä¸€æ—¦åˆ°äº†éšæœºè¯»å†™ä»»åŠ¡ä¸Šé€Ÿåº¦ä¸å»¶è¿Ÿå°±ä¸€è¨€éš¾å°½äº†ã€‚ç›´è§‚çš„æ„Ÿå—å°±æ˜¯ä¸€ä¸ªå­—â€”â€”&lt;strong&gt;å¡&lt;/strong&gt;ï¼Œä½†æ˜¯ä¸»è¦ä½“ç°åœ¨è¯»ç›˜å†·å¯åŠ¨çš„æ—¶å€™ï¼ˆæ¯•ç«Ÿå®éªŒå®¤æœºå™¨çš„é…ç½®è¿˜æ˜¯ä¸é”™çš„ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="å…³äºnvidiaé©±åŠ¨é—®é¢˜"&gt;å…³äºNVIDIAé©±åŠ¨é—®é¢˜
&lt;/h2&gt;&lt;p&gt;è¯´å¥å®è¯ï¼Œæˆ‘ä¹‹å‰ä»æœªåœ¨Linuxä¸Šé…ç½®è¿‡æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼Œç”¨çš„å¾€å¾€æ˜¯é…ç½®å¥½äº†çš„ç°æˆå“ï¼Œè¿™ä¸€æ¬¡æˆ‘å¤šå¤šå°‘å°‘ç†è§£ä¸ºä»€ä¹ˆå¤§å®¶éƒ½åœ¨è¯´Linuxä¸Šçš„NVIDIAé©±åŠ¨å¾ˆéš¾ç”¨äº†&amp;hellip;äº‹å®ä¸Šä¸ºäº†å¤„ç†é©±åŠ¨é—®é¢˜ï¼Œæˆ‘ä»ä¸‹åˆ13æ—¶ä¸€ç›´å¹²åˆ°äº†ä¸‹åˆ17æ—¶ï¼ˆå…¶å®ä¸»è¦å—ç£ç›˜IOé€Ÿåº¦ä¸å®éªŒå®¤ç½‘ç»œç¯å¢ƒå½±å“ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®‰è£…Ubuntuç³»ç»Ÿçš„æ—¶å€™ï¼Œå®‰è£…ç¨‹åºæœ‰è¯¢é—®æ˜¯å¦è¦å®‰è£…é™„åŠ é©±åŠ¨ï¼ˆAdditional Driversï¼‰ï¼Œæˆ‘è‡ªç„¶æ˜¯å‹¾é€‰äº†ç¡®å®šã€‚è¿›å…¥ç³»ç»Ÿï¼Œåœ¨minicondaè™šç¯å¢ƒä¸‹å®‰è£…PyTorchï¼Œå§‹ç»ˆæ— æ³•å®‰è£…å¯¹åº”GPUç‰ˆæœ¬ï¼ˆCUDAï¼‰ã€‚æ£€æŸ¥å‘ç°è‡ªåŠ¨å®‰è£…çš„é©±åŠ¨å¹¶ä¸æ˜¯æœ€æ–°çš„ï¼ˆåº”è¯¥æ˜¯510ç‰ˆæœ¬ï¼‰ï¼Œæœ¬èƒ½åœ°ä»¥ä¸ºå‡çº§é©±åŠ¨å°±å¯ä»¥äº†ï¼Œæ²¡æƒ³åˆ°è¿™åªæ˜¯å™©æ¢¦çš„å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;äº‹å®ä¸Šï¼Œå®‰è£…é©±åŠ¨çš„æ–¹æ³•å¹¶ä¸åªæœ‰ä¸€ç§ï¼Œè‡³å°‘æˆ‘æ‰¾åˆ°çš„æ–¹æ³•å°±æœ‰ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»NVIDIAå®˜ç½‘ä¸‹è½½ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;ubuntu-drivers autoinstall&lt;/code&gt;å®‰è£…ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç³»ç»Ÿåº”ç”¨&lt;code&gt;Additional Drivers&lt;/code&gt;å®‰è£…ã€‚ï¼ˆäº‹å®è¯æ˜ï¼Œè¿™æ˜¯æœ€å¥½çš„æ–¹æ³•ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="è¯•è¯•å®‰è£…ä»nvidiaå®˜ç½‘ä¸‹è½½çš„é©±åŠ¨"&gt;è¯•è¯•å®‰è£…ä»NVIDIAå®˜ç½‘ä¸‹è½½çš„é©±åŠ¨
&lt;/h3&gt;&lt;p&gt;å…¶å®æ—©åœ¨å®‰è£…ç³»ç»Ÿå‰ï¼Œæˆ‘å·²ç»æå‰åœ¨NVIDIAå®˜ç½‘ä¸‹å¥½äº†å¯¹åº”çš„é©±åŠ¨ç¨‹åºï¼Œä½†æ˜¯æ‰§è¡Œåå‘ç°è‡³å°‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…é©±åŠ¨ç¨‹åºéœ€è¦åœæ­¢ä¸€åˆ‡å ç”¨GPUçš„è¿›ç¨‹ï¼Œå…¶ä¸­å°±åŒ…å«Ubuntuè‡ªå¸¦çš„æ¡Œé¢ç¯å¢ƒGNOMEã€‚è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡ä½¿ç”¨Nouveaué©±åŠ¨è§£å†³ã€‚&lt;/li&gt;
&lt;li&gt;é©±åŠ¨å®‰è£…ç¨‹åºæç¤ºå»ºè®®ä½¿ç”¨Ubuntuå‘è¡Œç‰ˆæ¸ é“ä¸‹è½½é©±åŠ¨ï¼Œå› å®˜ç½‘é©±åŠ¨å¹¶ä¸æ˜¯æœ€å…¼å®¹æœ€ä¼˜åŒ–ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="é‚£å°±ç”¨ubuntu-drivers-autoinstallå®‰è£…é©±åŠ¨å§"&gt;é‚£å°±ç”¨&lt;code&gt;ubuntu-drivers autoinstall&lt;/code&gt;å®‰è£…é©±åŠ¨å§
&lt;/h3&gt;&lt;p&gt;æŒ‰ç†æ¥è¯´ï¼Œä»è¿™é‡Œå®‰è£…åº”è¯¥æ˜¯ç¨³å¦¥çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯å¦æ˜¯å› ä¸ºbugçš„åŸå› ï¼Œå®‰è£…çš„é©±åŠ¨ä¸€ç›´æŠ¥é”™ã€‚æœ€åæ— å¥ˆåªèƒ½ä½¿ç”¨&lt;code&gt;apt purge&lt;/code&gt;æ¸…é™¤æ‰æ‰€æœ‰çš„ç›¸å…³è½¯ä»¶åŒ…äº†ã€‚&lt;/p&gt;
&lt;h3 id="æœ€åè¿˜æ˜¯ä½¿ç”¨ç³»ç»Ÿåº”ç”¨additional-driverså®‰è£…é©±åŠ¨å§"&gt;æœ€åè¿˜æ˜¯ä½¿ç”¨ç³»ç»Ÿåº”ç”¨&lt;code&gt;Additional Drivers&lt;/code&gt;å®‰è£…é©±åŠ¨å§
&lt;/h3&gt;&lt;p&gt;æœ€å¼€å§‹å…¶å®æˆ‘ä¹Ÿæ˜¯ä»è¿™é‡Œå®‰è£…çš„é©±åŠ¨ï¼Œç„¶è€Œå—åˆ°äº†ä¸€ç¯‡æ•™ç¨‹çš„&lt;del&gt;è›Šæƒ‘&lt;/del&gt;ï¼Œæœ€åæ”¾å¼ƒäº†è¿™ä¸€æ­¥ã€‚å›è¿‡å¤´æ¥æ‰å‘è§‰ï¼Œå½“åˆå°±åº”è¯¥ä½¿ç”¨è¿™ä¸€æ–¹æ³•ã€‚å½“ç„¶è¿™ä¹‹ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¼€æºé©±åŠ¨(open kernel)é©±åŠ¨çš„é—®é¢˜â€”â€”ä¸€å¼€å§‹æˆ‘ä½¿ç”¨çš„æ˜¯525ç‰ˆæœ¬çš„å¼€æºé©±åŠ¨ï¼Œäº‹å®ä¸Šè¿™ä¹Ÿæ˜¯ä¸Šä¸€æ­¥ä¸­&lt;code&gt;ubuntu-drivers&lt;/code&gt;æ¨èæˆ‘å®‰è£…çš„ã€‚ç„¶è€Œåœ¨ä¸¤æ¬¡æ¸…æ´å®‰è£…åï¼Œæ˜¾ç¤ºçš„é”™è¯¯æ˜¯ä¸€è‡´çš„ï¼Œå‡æ˜¯æ— æ³•æ‰¾åˆ°è®¾å¤‡ã€‚éšåæˆ‘å¼€å§‹æ€€ç–‘æ˜¯ä¸æ˜¯å¼€æºé©±åŠ¨çš„é—®é¢˜ï¼Œé‚å®‰è£…525ç‰ˆæœ¬çš„éå¼€æºç‰ˆæœ¬ï¼Œé—®é¢˜è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;é©±åŠ¨é—®é¢˜è§£å†³äº†ï¼Œä½¿ç”¨&lt;code&gt;conda install&lt;/code&gt;ï¼ŒæˆåŠŸä¸€é”®éƒ¨ç½²PyTorchçš„GPUç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h2 id="å…³äºxrdpè¿œç¨‹æ¡Œé¢"&gt;å…³äºXRDPè¿œç¨‹æ¡Œé¢
&lt;/h2&gt;&lt;p&gt;ç”±äºå®éªŒå®¤ç½‘ç»œç™»å½•æ–¹å¼æ˜¯Web Portalï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªå›¾å½¢åŒ–ç•Œé¢è¿˜æ˜¯æ›´åŠ æ–¹ä¾¿ä¸€äº›ã€‚åœ¨æŒ‰ç…§æ•™ç¨‹é…ç½®å¥½åï¼Œè¿æ¥çš„ç»“æœå´æ˜¯é»‘å±å’Œé—ªé€€ã€‚æŒ‰ç…§æˆ‘æœç´¢åˆ°çš„èµ„æ–™ï¼Œå¤§å¤šæ•°çš„èµ„æ–™æŒ‡å‘å‘&lt;code&gt;/etc/xrdp/startwm.sh&lt;/code&gt;ä¸­æ·»åŠ ä»¥ä¸‹å­—æ®µ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;unset&lt;/span&gt; DBUS_SESSION_BUS_ADDRESS
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;unset&lt;/span&gt; XDG_RUNTIME_DIR
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å®é™…ä¸Šï¼Œå®Œå…¨é…ç½®XRDPè¿˜éœ€è¦å‘&lt;code&gt;xsessionrc&lt;/code&gt;ä¸­æ·»åŠ æ¡Œé¢ç¨‹åºï¼ˆæ¯”å¦‚Ubuntuè‡ªå¸¦çš„GNOMEï¼‰ã€‚è€Œæˆ‘æœ€åçš„è§£å†³æ–¹æ¡ˆè¿˜æ˜¯é€šè¿‡æŸ¥çœ‹XRDPçš„é”™è¯¯æ—¥å¿—ï¼Œå®‰è£…&lt;code&gt;dbus-lauch&lt;/code&gt;è¿™ä¸€ç¼ºå¤±çš„è½¯ä»¶åŒ…è§£å†³çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨ç§»åŠ¨ç¡¬ç›˜å®‰è£…æ“ä½œç³»ç»Ÿï¼Œè‡³å°‘ä¸è¦ä½¿ç”¨æœºæ¢°ç¡¬ç›˜ã€‚&lt;/li&gt;
&lt;li&gt;å°½é‡å‚è€ƒå¤–æ–‡å®˜ç½‘èµ„æ–™ï¼Œå› å…¶å¾€å¾€æ›´æ–°æ›´è¯¦å°½ã€‚&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ç¨‹åºæ—¥å¿—è€Œä¸æ˜¯æœç´¢ç—‡çŠ¶ã€‚&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>è”é‚¦å­¦ä¹ ä¸­çš„non-IIDæ•°æ®</title><link>https://blog.kuludu.net/article/%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0%E4%B8%AD%E7%9A%84non-iid%E6%95%B0%E6%8D%AE/</link><pubDate>Fri, 23 Sep 2022 14:07:00 +0800</pubDate><guid>https://blog.kuludu.net/article/%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0%E4%B8%AD%E7%9A%84non-iid%E6%95%B0%E6%8D%AE/</guid><description>&lt;h2 id="å…³äºnon-iidæ•°æ®"&gt;å…³äºnon-IIDæ•°æ®
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;independent and identically distributed(IID)&lt;strong&gt;å³&lt;/strong&gt;ç‹¬ç«‹åŒåˆ†å¸ƒ&lt;/strong&gt;ï¼ŒæŒ‡çš„æ˜¯å…¨ä½“æ ·æœ¬æœä»æŸä¸€åˆ†å¸ƒï¼Œè€Œæ¯æ¬¡è·å¾—çš„æ ·æœ¬éƒ½æ˜¯ç‹¬ç«‹åœ°ä»è¿™ä¸ªåˆ†å¸ƒä¸Šé‡‡æ ·è·å¾—çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ç‹¬ç«‹&lt;/code&gt;ï¼šæŒ‡çš„æ˜¯æ¯æ¬¡é‡‡æ ·ä¹‹é—´ä¸ä¼šæœ‰å…³ç³»ã€‚ä¾‹å¦‚å¤šæ¬¡æŠ•éª°å­ï¼Œç¬¬ä¸€æ¬¡æŠ•å’Œç¬¬åæ¬¡æŠ•ä¹‹é—´æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼›ç›¸è¾ƒä¹‹ä¸‹ï¼Œå‡ºç°ä¹Œäº‘ä¸ä¸‹é›¨å°±éç‹¬ç«‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;åŒåˆ†å¸ƒ&lt;/code&gt;ï¼šæŒ‡çš„æ˜¯éšæœºå˜é‡æœä»ç»Ÿä¸€åˆ†å¸ƒã€‚ä»ä»¥éª°å­ä¸¾ä¾‹ï¼Œè‹¥éª°å­è´¨é‡åˆ†å¸ƒä¸ä¼šå˜åŠ¨ï¼Œåˆ™æ¯æ¬¡æŠ•çš„ç»“æœå°†ä¼šå‘ˆç°ä¸€å®šçš„è§„å¾‹ï¼›ç›¸è¾ƒä¹‹ä¸‹è‹¥é‡‡ç”¨ä½œå¼Šéª°å­ï¼ˆå¯ä»¥äººä¸ºæ”¹å˜æŸä¸€ç«¯çš„è´¨é‡ï¼‰ï¼Œåˆ™ä¼šç ´åè¿™ä¸€æ€§è´¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;non-IID&lt;/strong&gt;è‡ªç„¶æ˜¯ä»¥ä¸Šæ¦‚å¿µçš„å¦å‘½é¢˜ï¼ˆç‹¬ç«‹å’ŒåŒåˆ†å¸ƒä»»æ„ä¸æ»¡è¶³å³å¯ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="è”é‚¦å­¦ä¹ ä¸­çš„non-iidæ•°æ®åˆ†ç±»"&gt;è”é‚¦å­¦ä¹ ä¸­çš„non-IIDæ•°æ®åˆ†ç±»
&lt;/h2&gt;&lt;p&gt;åœ¨çœŸå®ä¸–ç•Œä¸­æ•°æ®å¾€å¾€ä¼šå› ä¸ºå„ç§å„æ ·çš„åŸå› è€Œå‘ˆç°non-IIDçš„ç‰¹æ€§ï¼ˆä¾‹å¦‚æŸåœ°é›¨æ°´å¤©æ°”å¤šï¼Œç”Ÿé”ˆæ•…éšœçš„æ ·æœ¬ä¼šæ›´å¤šï¼‰ã€‚åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸï¼Œæˆ‘ä»¬ä¸å¦¨ä»è¾“å…¥ç©ºé—´$X$ä¸è¾“å‡ºç©ºé—´$Y$æ¥è€ƒè™‘ã€‚&lt;/p&gt;
&lt;h3 id="å‡è®¾æ ·æœ¬ç‹¬ç«‹ä½†ä¸åŒåˆ†å¸ƒ"&gt;å‡è®¾æ ·æœ¬ç‹¬ç«‹ä½†ä¸åŒåˆ†å¸ƒ
&lt;/h3&gt;&lt;p&gt;æ ·æœ¬æ»¡è¶³è´å¶æ–¯å…¬å¼ï¼š$P(X,Y)=P(X)P(Y|X)$ã€‚å¯¹äºå®¢æˆ·ç«¯$i$ä¸$j$ï¼Œè€ƒè™‘$P_i(X)$ï¼ˆ$i$è¾“å…¥åˆ†å¸ƒï¼‰ã€$P_i(Y|X)$ï¼ˆ$i$æ ‡ç­¾åˆ†å¸ƒï¼‰ä¸$P_j(X)$ï¼ˆ$j$è¾“å…¥åˆ†å¸ƒï¼‰ã€$P_j(Y|X)$ï¼ˆ$j$è¾“å…¥åˆ†å¸ƒï¼‰ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è‹¥$P_i(X)\ne P_j(X)$ï¼Œä¸”$P_i(Y|X)=P_j(Y|X)$ï¼šå®¢æˆ·ç«¯è¾“å…¥ä¸ç›¸åŒï¼Œä½†è¾“å‡ºç›¸åŒã€‚ä¾‹å¦‚ä¸åŒå›½å®¶å¯¹äºæ±½è½¦è¡Œé©¶æ–¹å‘çš„è§„å®šä¸åŒï¼Œä½†éƒ½éœ€è¦éµå®ˆç›¸åŒçš„äº¤é€šè§„åˆ™ï¼ˆè·Ÿéšä¿¡å·ç¯ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è‹¥$P_i(X)= P_j(X)$ï¼Œä¸”$P_i(Y|X)\ne P_j(Y|X)$ï¼šå®¢æˆ·ç«¯è¾“å…¥ç›¸åŒï¼Œä½†è¾“å‡ºä¸ç›¸åŒã€‚ä¾‹å¦‚ä¸åŒåœ°åŒºå¯¹äºäº¤é€šæ³•è§„çš„å®šä¹‰ä¸åŒï¼Œæœ‰äº›åœ°åŒºçº¢ç¯å¿…é¡»åœæ­¢ï¼Œè€Œæœ‰äº›åœ°åŒºå¯ä»¥åœ¨ç¡®è®¤å®‰å…¨çš„æƒ…å†µä¸‹é€šè¡Œã€‚&lt;/li&gt;
&lt;li&gt;è‹¥$P_i(X)\ne P_j(X)$ï¼Œä¸”$P_i(Y|X)\ne P_j(Y|X)$ï¼šå®¢æˆ·ç«¯è¾“å…¥è¾“å‡ºå‡ä¸ç›¸åŒã€‚æ­¤ä¸ºä»¥ä¸Šä¸¤ç§æƒ…å†µçš„ç»„åˆï¼Œä¾‹å¦‚è¡Œé©¶æ–¹å‘ä¸äº¤é€šæ³•è§„å‡ä¸ç›¸åŒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è‹¥$P_i(X)=P_j(X)$ï¼Œä¸”$P_i(Y|X)=P_j(Y|X)$ï¼šä¸å‡è®¾ä¸ç¬¦ï¼ˆè¿™æ˜¯IIDï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="å‡è®¾æ ·æœ¬ä¸ç‹¬ç«‹ä½†åŒåˆ†å¸ƒ"&gt;å‡è®¾æ ·æœ¬ä¸ç‹¬ç«‹ä½†åŒåˆ†å¸ƒ
&lt;/h3&gt;&lt;p&gt;å¯¹äºå…¨ä½“æ ·æœ¬è€Œè¨€è€ƒè™‘$X\sim B(n,p)$ï¼Œé‚£ä¹ˆè‹¥æœ‰$Y=(n-X)\sim B(n,p)$åˆ™è¾“å…¥ä¸è¾“å‡ºä¸ç‹¬ç«‹ä½†åŒåˆ†å¸ƒã€‚ä¾‹å¦‚æŠ›$n$æ¬¡ç¡¬å¸$x$æ¬¡æ­£é¢æœä¸Šçš„æ¦‚ç‡ä¸$n-x$æ¬¡åé¢æœä¸Šçš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;p&gt;æ”¾åœ¨è”é‚¦å­¦ä¹ çš„è§’åº¦ï¼Œå¯ä»¥ç†è§£ä¸º$P_i(X)$ä¸$P_j(X)$ä¸ç‹¬ç«‹ï¼Œè€Œ$P_i(Y|X)=P_j(Y|X)$æœä»åŒä¸€åˆ†å¸ƒã€‚ä¾‹å¦‚é“¶è¡Œä¸­ç”¨æˆ·æ•°æ®å¼‚æ„ä½†ç”¨æˆ·å¤§å¤šä¸€æ ·ã€‚&lt;/p&gt;
&lt;h3 id="å‡è®¾æ ·æœ¬ä¸ç‹¬ç«‹ä¸”ä¸åŒåˆ†å¸ƒ"&gt;å‡è®¾æ ·æœ¬ä¸ç‹¬ç«‹ä¸”ä¸åŒåˆ†å¸ƒ
&lt;/h3&gt;&lt;p&gt;æ¯”å¦‚è¯»paperä¸æ‰å¤´å‘çš„å…³ç³»ï¼ˆï¼Ÿ&lt;/p&gt;
&lt;h2 id="å†ä»æ ·æœ¬ç‰¹æ€§ä¸Šåˆ†ç±»"&gt;å†ä»æ ·æœ¬ç‰¹æ€§ä¸Šåˆ†ç±»
&lt;/h2&gt;&lt;h3 id="å±æ€§å€¾æ–œ"&gt;å±æ€§å€¾æ–œ
&lt;/h3&gt;&lt;p&gt;å±æ€§å€¾æ–œä»å®¢æˆ·ç«¯æ ·æœ¬å±æ€§é‡å ç¨‹åº¦å‡ºå‘è€ƒè™‘ï¼Œåˆ†ä¸ºï¼šéé‡å å±æ€§å€¾æ–œï¼ˆNon-overlapping Attribute Skewï¼‰ã€éƒ¨åˆ†é‡å å±æ€§å€¾æ–œï¼ˆPartial Overlapping Attribute Skewï¼‰ä¸å®Œå…¨é‡å å±æ€§å€¾æ–œï¼ˆFull Overlapping Attribute Skewï¼‰ã€‚&lt;/p&gt;
&lt;h4 id="éé‡å å±æ€§å€¾æ–œ"&gt;éé‡å å±æ€§å€¾æ–œ
&lt;/h4&gt;&lt;p&gt;å®¢æˆ·ç«¯çš„å±æ€§å®Œå…¨æ²¡æœ‰é‡å ï¼ˆä¾‹å¦‚$k_1$æ‹¥æœ‰å±æ€§$A,B$ï¼Œ$k_2$æ‹¥æœ‰å±æ€§$C,D$ï¼‰ï¼Œä½†å±•ç°å¼ºç›¸å…³æ€§ï¼Œæ­¤æ—¶å¯ä»¥è§†ä¸ºçºµå‘è”é‚¦å­¦ä¹ ï¼ˆVertical FLï¼‰ã€‚&lt;/p&gt;
&lt;h4 id="éƒ¨åˆ†é‡å å±æ€§å€¾æ–œ"&gt;éƒ¨åˆ†é‡å å±æ€§å€¾æ–œ
&lt;/h4&gt;&lt;p&gt;å®¢æˆ·ç«¯çš„å±æ€§éƒ¨åˆ†é‡å ï¼ˆä¾‹å¦‚$k_1$æ‹¥æœ‰å±æ€§$A,B$ï¼Œ$k_2$æ‹¥æœ‰å±æ€§$B,D$ï¼‰ã€‚&lt;/p&gt;
&lt;h4 id="å®Œå…¨é‡å å±æ€§å€¾æ–œ"&gt;å®Œå…¨é‡å å±æ€§å€¾æ–œ
&lt;/h4&gt;&lt;p&gt;å®¢æˆ·ç«¯çš„å±æ€§éƒ¨åˆ†é‡å ï¼ˆä¾‹å¦‚$k_1$æ‹¥æœ‰å±æ€§$A,B$ï¼Œ$k_2$ä¹Ÿæ‹¥æœ‰å±æ€§$A,B$ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="æ ‡ç­¾å€¾æ–œ"&gt;æ ‡ç­¾å€¾æ–œ
&lt;/h3&gt;&lt;h4 id="æ ‡ç­¾åˆ†å¸ƒå€¾æ–œ"&gt;æ ‡ç­¾åˆ†å¸ƒå€¾æ–œ
&lt;/h4&gt;&lt;h4 id="æ ‡ç­¾åå¥½å€¾æ–œ"&gt;æ ‡ç­¾åå¥½å€¾æ–œ
&lt;/h4&gt;&lt;p&gt;å®¢æˆ·ç«¯å¯¹æ ·æœ¬çš„åå¥½ä¸åŒï¼ˆå¯¹äºåŒä¸€æ ·æœ¬ï¼Œå®¢æˆ·ç«¯$A$å–œæ¬¢ï¼Œ$B$ä¸å–œæ¬¢ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="æ—¶é—´å€¾æ–œ"&gt;æ—¶é—´å€¾æ–œ
&lt;/h3&gt;&lt;p&gt;éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå®¢æˆ·ç«¯çš„æ•°æ®ä¼šæœ‰æ‰€å€¾æ–œï¼ˆå¯å‚è€ƒè”é‚¦å¢é‡å­¦ä¹ ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="å…¶å®ƒ"&gt;å…¶å®ƒ
&lt;/h3&gt;&lt;h4 id="å±æ€§æ ‡ç­¾å€¾æ–œ"&gt;å±æ€§&amp;amp;æ ‡ç­¾å€¾æ–œ
&lt;/h4&gt;&lt;h4 id="è´¨é‡å€¾æ–œ"&gt;è´¨é‡å€¾æ–œ
&lt;/h4&gt;&lt;hr&gt;
&lt;h2 id="ref"&gt;Ref
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Non-IID data and Continual Learning processes in Federated Learning: A long road ahead&lt;/li&gt;
&lt;li&gt;Federated Learning on Non-IID Data: A Survey&lt;/li&gt;
&lt;li&gt;Federated Visual Classification with Real-World Data Distribution&lt;/li&gt;
&lt;li&gt;ã€Šæœºå™¨å­¦ä¹ ã€‹ - å‘¨å¿—åè‘—&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>lower_bound()çš„ä¸€ä¸ªæœªé¢„æœŸçš„æ‰§è¡Œè¡Œä¸º</title><link>https://blog.kuludu.net/article/lower_bound%E7%9A%84%E4%B8%80%E4%B8%AA%E6%9C%AA%E9%A2%84%E6%9C%9F%E7%9A%84%E6%89%A7%E8%A1%8C%E8%A1%8C%E4%B8%BA/</link><pubDate>Tue, 15 Jun 2021 15:36:00 +0800</pubDate><guid>https://blog.kuludu.net/article/lower_bound%E7%9A%84%E4%B8%80%E4%B8%AA%E6%9C%AA%E9%A2%84%E6%9C%9F%E7%9A%84%E6%89%A7%E8%A1%8C%E8%A1%8C%E4%B8%BA/</guid><description>&lt;p&gt;å‰ä¸€é˜µï¼Œåè¾ˆé—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;bits/stdc++.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lower_bound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;greater&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸ºä»€ä¹ˆæ‰§è¡Œç»“æœä¸º0ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç¡®å®ï¼Œä»ç›´è§‚æ€è€ƒä¸Šæ¥è¯´ï¼Œè¿”å›ç»“æœç¡®å®æœ‰äº›è¯¡å¼‚ã€‚ä¸€æ—¶é—´æˆ‘ä¹Ÿä¸å¤ªç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çš„ç¬¬ä¸€ååº”æ˜¯æ¯”è¾ƒ &lt;code&gt;p&lt;/code&gt;ä¸ &lt;code&gt;a.end()&lt;/code&gt;çš„ä½ç½®å…³ç³»ï¼Œå‘ç° &lt;code&gt;p=a.end()&lt;/code&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;strong&gt;å‡½æ•°å¹¶æ²¡æœ‰åœ¨å®¹å™¨ä¸­æ‰¾åˆ°æ¯”aå¤§çš„å…ƒç´ &lt;/strong&gt;ï¼Œè¿™å¹¶ä¸ç¬¦åˆé¢„æœŸçš„æ‰§è¡Œç»“æœã€‚&lt;/p&gt;
&lt;p&gt;é‡äº‹ä¸å†³ç¿»æ–‡æ¡£ï¼Œäºæ˜¯æˆ‘æ‰¾åˆ°äº†&lt;a class="link" href="https://zh.cppreference.com/w/cpp/algorithm/upper_bound" target="_blank" rel="noopener"
&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;ã€‚å…¶ä¸­è¯¦ç»†ä»‹ç»äº† &lt;code&gt;upper_bound&lt;/code&gt;å‡½æ•°çš„åŸå‹ä¸å®šä¹‰ï¼Œå…¶ä¸­ä»‹ç»ä¸­çš„è¿™å¥è¯è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;èŒƒå›´ &lt;code&gt;[first, last)&lt;/code&gt; å¿…é¡»å·²ç›¸å¯¹äºè¡¨è¾¾å¼ !(value &amp;lt; element) æˆ– !comp(value, element) åˆ’åˆ†ï¼Œå³æ‰€æœ‰ä»¤æ­¤è¡¨è¾¾å¼ä¸º true çš„å…ƒç´ å¿…é¡»å‰è¶‹æ‰€æœ‰ä»¤æ­¤è¡¨è¾¾å¼ä¸º false çš„å…ƒç´ ã€‚å®Œå…¨æ’åºçš„èŒƒå›´æ»¡è¶³æ­¤åˆ¤åˆ«æ ‡å‡†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é™¤äº†å¸¸æåˆ°çš„åºåˆ—æœ‰åºå‰æä»¥å¤–ï¼Œ&lt;code&gt;lower_bound&lt;/code&gt;å¯¹é‡è½½çš„æ¯”è¾ƒå…³ç³»ä¹Ÿæœ‰ä¸€å®šçš„è¦æ±‚ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´äº†ä¸Šä¾‹ä¸­ &lt;code&gt;lower_bound&lt;/code&gt;å‡½æ•°ä¸ç¬¦åˆé¢„æœŸçš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒå…¶ç»™å‡ºäº†å‡½æ•°å¯èƒ½çš„å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;template&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ForwardIt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Compare&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;ForwardIt&lt;/span&gt; &lt;span class="n"&gt;upper_bound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ForwardIt&lt;/span&gt; &lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ForwardIt&lt;/span&gt; &lt;span class="n"&gt;last&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Compare&lt;/span&gt; &lt;span class="n"&gt;comp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ForwardIt&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;iterator_traits&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;ForwardIt&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;difference_type&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;step&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;last&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;advance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;step&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;comp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;first&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;step&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¹Ÿå¯¹åº”äº†ä»‹ç»ä¸­çš„è¯´æ³•ï¼Œå½“é‡‡ç”¨ä¸Šä¾‹çš„å‡½æ•°æ¨¡ç‰ˆé‡è½½å¤§å°å…³ç³»ï¼Œä¼šä½¿è¿­ä»£å™¨ &lt;code&gt;it&lt;/code&gt;ä¸æ–­å‘åè¿­ä»£ï¼Œç›´è‡³ä¸ &lt;code&gt;a.end()&lt;/code&gt;é‡åˆã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œè¦ä½¿è¿è¡Œç»“æœæ­£ç¡®ï¼Œå¯ä»¥å¯¹å‡½æ•°ä¼ é€’ &lt;code&gt;a&lt;/code&gt;çš„åå‘è¿­ä»£å™¨ &lt;code&gt;a.rbegin()&lt;/code&gt;ä¸ &lt;code&gt;a.rend()&lt;/code&gt;ã€‚å³ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;bits/stdc++.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lower_bound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rbegin&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rend&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;greater&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ–è€…ä½¿ç”¨ &lt;code&gt;reverse&lt;/code&gt;å‡½æ•°å…ˆå¯¹åºåˆ—è¿›è¡Œåè½¬ï¼Œå½“ç„¶ï¼Œè¿™æ ·ä¼šé€ æˆæ€§èƒ½æŸå¤±ã€‚&lt;/p&gt;</description></item><item><title>MacOSä¸‹å¸è½½System Extensions</title><link>https://blog.kuludu.net/article/macos%E4%B8%8B%E5%8D%B8%E8%BD%BDsystem-extensions/</link><pubDate>Sat, 29 May 2021 15:29:00 +0800</pubDate><guid>https://blog.kuludu.net/article/macos%E4%B8%8B%E5%8D%B8%E8%BD%BDsystem-extensions/</guid><description>&lt;p&gt;System Extensionsæ˜¯macOSçš„ä¸€å¥—ç³»ç»Ÿæ‹“å±•æœºåˆ¶ï¼Œä»macOS Catalinaå¼€å§‹å‡ºç°ï¼Œå…·ä½“å¯ä»¥å‚è€ƒApple Developerçš„&lt;a class="link" href="https://developer.apple.com/system-extensions/" target="_blank" rel="noopener"
&gt;è¿™ç¯‡ä»‹ç»&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨æˆ·å¹¶ä¸éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ç³»ç»Ÿæ‹“å±•ã€‚åœ¨æ‹“å±•å®‰è£…ä¸åº”ç”¨å¸è½½çš„è¿‡ç¨‹ä¸­ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶æ‰§è¡Œç›¸å…³æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œæ—¢ç„¶æœ‰äº†æœ¬æ–‡å°±è¯´æ˜æœ‰é‚£ä¹ˆä¸€ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What if an application fail to uninstall its own system extension?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å‘ç”Ÿåœ¨æˆ‘æ­£æƒ³å¸è½½æˆ‘çš„å®‰å…¨è½¯ä»¶Avast Securityä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ‰§è¡Œå¸è½½æ“ä½œçš„æ—¶å€™ï¼Œç¨‹åºæç¤º&lt;code&gt;fail to uninstall&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåˆ—å‡ºæˆ‘çš„è½¯ä»¶ä¿¡æ¯ï¼šmacOS Big Sur 11.3.1ã€Avast Securityï¼ˆå‘æ–‡å‰æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿæ´ç™–ç—‡å¦‚æˆ‘ï¼Œè‡ªç„¶ä¸æŒ‡æœ›å‚å•†ä¿®å¤äº†ï¼Œè¿˜æ˜¯æ‰‹åŠ¨å¸è½½å§ã€‚&lt;/p&gt;
&lt;p&gt;æœç´¢ç›¸å…³èµ„æ–™ï¼Œå¾—çŸ¥macOSå¯ä»¥é€šè¿‡&lt;code&gt;systemextensionsctl&lt;/code&gt;è¿™ä¸ªå‘½ä»¤ç®¡ç†ç³»ç»Ÿæ‹“å±•ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ç³»ç»Ÿæç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;At this time, this tool cannot be used if System Integrity Protection is enabled.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;This limitation will be removed in the near future.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Please remember to re-enable System Integrity Protection!
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ²¡é”™ï¼Œå°±æ˜¯ä¸èƒ½å¸è½½ï¼&lt;/p&gt;
&lt;p&gt;åŸå› å°±æ˜¯ç³»ç»Ÿé›†æˆä¿æŠ¤ï¼ˆSIPï¼‰çš„é”…ã€‚æœ‰äº†è¿™ä¸ªæœºåˆ¶ç”šè‡³rootç”¨æˆ·ä¹Ÿä¸èƒ½ä¿®æ”¹ä¸ç³»ç»ŸåŠç³»ç»Ÿæ‹“å±•ç›¸å…³çš„æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯è¯´rootç”¨æˆ·ä¹Ÿæ²¡æ³•æ‰‹åŠ¨å…³é—­ç³»ç»Ÿæ‹“å±•ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å‘å•Šï¼&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆå…¶å®ä¹Ÿå¾ˆæ˜äº†ï¼Œä½¿ç”¨&lt;code&gt;command + R&lt;/code&gt;è¿›å…¥System Recoveryæ¨¡å¼ï¼Œé€šè¿‡&lt;code&gt;csrutil&lt;/code&gt;å‘½ä»¤å…³é—­è¿™ä»¤äººåˆçˆ±åˆæ¨çš„SIPï¼Œå†æ­£å¸¸å¯åŠ¨å¸è½½ç³»ç»Ÿæ‹“å±•å°±è¡Œï¼ˆæ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰ç§è£¸å¥”çš„æ„Ÿè§‰ğŸ˜“ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸è½½å®Œæˆååˆ«å¿˜äº†ç”¨åŒæ ·çš„æ–¹æ³•å¼€å¯SIPï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸è½½å®Œæˆååˆ«å¿˜äº†ç”¨åŒæ ·çš„æ–¹æ³•å¼€å¯SIPï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸è½½å®Œæˆååˆ«å¿˜äº†ç”¨åŒæ ·çš„æ–¹æ³•å¼€å¯SIPï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼Œæ¯•ç«ŸSIPè¿˜æ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ç³»ç»Ÿä¿æŠ¤æœºåˆ¶çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ï¼ˆå¸Œæœ›Appleæœ‰å…³è§£é™¤é™åˆ¶çš„æ‰¿è¯ºèƒ½å°½å¿«å…‘ç°ã€‚&lt;/p&gt;</description></item><item><title>HOG</title><link>https://blog.kuludu.net/article/hog/</link><pubDate>Tue, 20 Apr 2021 17:57:00 +0800</pubDate><guid>https://blog.kuludu.net/article/hog/</guid><description>&lt;p&gt;OGï¼ˆHistogram of Oriented Gridientsï¼‰å³æ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾ï¼Œæ˜¯ä¸€ç§å›¾åƒç‰¹å¾æå–çš„æ–¹æ³•ã€‚å…¶æœ€æ—©ç”±æ³•å›½ç ”ç©¶å‘˜Dalalç­‰äººåœ¨CVPR-2005ä¸Šæå‡ºï¼Œé€šè¿‡å›¾åƒå±€éƒ¨æ¢¯åº¦æ–¹å‘çš„åˆ†å¸ƒæè¿°å›¾åƒä¸­çš„ç‰©ä½“è¾¹ç¼˜ã€‚&lt;/p&gt;
&lt;p&gt;ç®—æ³•ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¢„å¤„ç†&lt;/li&gt;
&lt;li&gt;è®¡ç®—æ¢¯åº¦&lt;/li&gt;
&lt;li&gt;è®¡ç®—æ¢¯åº¦æ–¹å‘ç›´æ–¹å›¾&lt;/li&gt;
&lt;li&gt;é‡å ç›´æ–¹å›¾å½’ä¸€åŒ–&lt;/li&gt;
&lt;li&gt;è·å–HOGç‰¹å¾å‘é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="é¢„å¤„ç†"&gt;é¢„å¤„ç†
&lt;/h2&gt;&lt;p&gt;åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œå¯ä»¥å¯¹å›¾åƒè¿›è¡Œè£å‰ªä¸ç¼©æ”¾ä»¥åŠè°ƒæ•´å›¾åƒäº®åº¦ï¼Œä»¥ä¾¿åç»­å¯¹å›¾åƒå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹‚æ¬¡å˜æ¢&lt;/li&gt;
&lt;li&gt;å¯¹æ•°å˜æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="è®¡ç®—æ¢¯åº¦"&gt;è®¡ç®—æ¢¯åº¦
&lt;/h2&gt;&lt;p&gt;é€šè¿‡Sobelç®—å­è®¡ç®—æ°´å¹³ä¸ç«–ç›´æ¢¯åº¦ï¼Œå¹¶è®¡ç®—åˆæ¢¯åº¦çš„å¹…å€¼ä¸æ–¹å‘ï¼š&lt;/p&gt;
&lt;p&gt;$$
g=\sqrt{g^2_{x}+g^2_{y}}
$$&lt;/p&gt;
&lt;p&gt;$$
\theta=\arctan\frac{g_y}{g_x}
$$&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ¢¯åº¦æ–¹å‘å–ç»å¯¹å€¼ï¼Œæ‰€ä»¥$\theta\in[0, \pi]$ï¼Œæ–¹å‘ç›¸åçš„ä¸¤ä¸ªæ¢¯åº¦ä¼šè¢«è®¤ä¸ºæ˜¯åŒä¸€ä¸ªã€‚&lt;/p&gt;
&lt;h2 id="è®¡ç®—æ¢¯åº¦æ–¹å‘ç›´æ–¹å›¾"&gt;è®¡ç®—æ¢¯åº¦æ–¹å‘ç›´æ–¹å›¾
&lt;/h2&gt;&lt;p&gt;å°†å›¾åƒåˆ’åˆ†ä¸º$n\times m$çš„cellï¼Œå¯¹æ¯ä¸ªcellè®¡ç®—æ–¹å‘æ¢¯åº¦å¼ºåº¦ç›´æ–¹å›¾ã€‚åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¢¯åº¦æ–¹å‘è¿›è¡Œç¦»æ•£åŒ–ï¼Œä¾‹å¦‚å¯ä»¥å°†æ•°æ®åˆ†ä¸º9ä¸ªæ·±åº¦ä¸º20çš„ç®±ï¼Œä»è€Œå½¢æˆä¸€ä¸ªé•¿åº¦ä¸º9å‘é‡ã€‚&lt;/p&gt;
&lt;h2 id="é‡å ç›´æ–¹å›¾å½’ä¸€åŒ–"&gt;é‡å ç›´æ–¹å›¾å½’ä¸€åŒ–
&lt;/h2&gt;&lt;p&gt;å°†$x\times x$çš„cellåˆ’åˆ†ä¸ºä¸€ä¸ªblockï¼Œé‡‡ç”¨æ»‘åŠ¨çª—å£çš„ç­–ç•¥ï¼Œå¯¹blockå†…æ¯ä¸€ä¸ªcellæ‹¼æ¥è€Œæˆçš„å‘é‡è¿›è¡Œå½’ä¸€åŒ–æ“ä½œã€‚&lt;/p&gt;
&lt;h2 id="è·å–hogç‰¹å¾å‘é‡"&gt;è·å–HOGç‰¹å¾å‘é‡
&lt;/h2&gt;&lt;p&gt;åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªblockï¼Œæˆ‘ä»¬éƒ½å¾—åˆ°äº†ä¸€ä¸ªé•¿åº¦ä¸º$bin_{depth}\times x^2$çš„å‘é‡ï¼Œå…±è®¡$(n-1)\times(m-1)$ä¸ªã€‚å°†è¿™äº›å‘é‡æ‹¼æ¥èµ·æ¥ï¼Œå°±å¾—åˆ°äº†æˆ‘ä»¬éœ€è¦æ±‚çš„HOGç‰¹å¾å‘é‡&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://zhuanlan.zhihu.com/p/85829145" target="_blank" rel="noopener"
&gt;https://zhuanlan.zhihu.com/p/85829145&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;span class="lnt"&gt;37
&lt;/span&gt;&lt;span class="lnt"&gt;38
&lt;/span&gt;&lt;span class="lnt"&gt;39
&lt;/span&gt;&lt;span class="lnt"&gt;40
&lt;/span&gt;&lt;span class="lnt"&gt;41
&lt;/span&gt;&lt;span class="lnt"&gt;42
&lt;/span&gt;&lt;span class="lnt"&gt;43
&lt;/span&gt;&lt;span class="lnt"&gt;44
&lt;/span&gt;&lt;span class="lnt"&gt;45
&lt;/span&gt;&lt;span class="lnt"&gt;46
&lt;/span&gt;&lt;span class="lnt"&gt;47
&lt;/span&gt;&lt;span class="lnt"&gt;48
&lt;/span&gt;&lt;span class="lnt"&gt;49
&lt;/span&gt;&lt;span class="lnt"&gt;50
&lt;/span&gt;&lt;span class="lnt"&gt;51
&lt;/span&gt;&lt;span class="lnt"&gt;52
&lt;/span&gt;&lt;span class="lnt"&gt;53
&lt;/span&gt;&lt;span class="lnt"&gt;54
&lt;/span&gt;&lt;span class="lnt"&gt;55
&lt;/span&gt;&lt;span class="lnt"&gt;56
&lt;/span&gt;&lt;span class="lnt"&gt;57
&lt;/span&gt;&lt;span class="lnt"&gt;58
&lt;/span&gt;&lt;span class="lnt"&gt;59
&lt;/span&gt;&lt;span class="lnt"&gt;60
&lt;/span&gt;&lt;span class="lnt"&gt;61
&lt;/span&gt;&lt;span class="lnt"&gt;62
&lt;/span&gt;&lt;span class="lnt"&gt;63
&lt;/span&gt;&lt;span class="lnt"&gt;64
&lt;/span&gt;&lt;span class="lnt"&gt;65
&lt;/span&gt;&lt;span class="lnt"&gt;66
&lt;/span&gt;&lt;span class="lnt"&gt;67
&lt;/span&gt;&lt;span class="lnt"&gt;68
&lt;/span&gt;&lt;span class="lnt"&gt;69
&lt;/span&gt;&lt;span class="lnt"&gt;70
&lt;/span&gt;&lt;span class="lnt"&gt;71
&lt;/span&gt;&lt;span class="lnt"&gt;72
&lt;/span&gt;&lt;span class="lnt"&gt;73
&lt;/span&gt;&lt;span class="lnt"&gt;74
&lt;/span&gt;&lt;span class="lnt"&gt;75
&lt;/span&gt;&lt;span class="lnt"&gt;76
&lt;/span&gt;&lt;span class="lnt"&gt;77
&lt;/span&gt;&lt;span class="lnt"&gt;78
&lt;/span&gt;&lt;span class="lnt"&gt;79
&lt;/span&gt;&lt;span class="lnt"&gt;80
&lt;/span&gt;&lt;span class="lnt"&gt;81
&lt;/span&gt;&lt;span class="lnt"&gt;82
&lt;/span&gt;&lt;span class="lnt"&gt;83
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cv2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;skimage&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;io&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;skimage.feature&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;hog&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.svm&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SVC&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.metrics&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;precision_score&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;recall_score&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;TRAIN_COUNT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;TEST_COUNT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_features&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;img_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;data/test_set/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;s/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;.%d.jpg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;4001&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;img_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;data/training_set/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;s/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;.%d.jpg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;object_detect&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;cat&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;features&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img_path&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# è¯»å–å›¾ç‰‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img_path&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IMREAD_GRAYSCALE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# å°ºå¯¸ç¼©æ”¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# ä¸­å€¼æ»¤æ³¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;medianBlur&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# HOGç‰¹å¾æå–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;hog_image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;hog&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orientations&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pixels_per_cell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;cells_per_block&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;features&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hog_image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;features&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;features&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;features&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;labels&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_predict_img&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img_path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img_path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IMREAD_GRAYSCALE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# å°ºå¯¸ç¼©æ”¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# ä¸­å€¼æ»¤æ³¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;gray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;medianBlur&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;normalised_blocks&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hog_image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;hog&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orientations&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pixels_per_cell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;cells_per_block&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;visualise&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;hog_image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cat_labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_features&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cat&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;TRAIN_COUNT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dog&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dog_labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_features&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;dog&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;TRAIN_COUNT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vstack&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dog&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vstack&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;cat_labels&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dog_labels&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hstack&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;clf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SVC&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;probability&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;clf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ----------- é¢„æµ‹å•å¼ å›¾ç‰‡ ---------------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# test_img = get_predict_img(&amp;#34;training_set/cats/cat.38.jpg&amp;#34;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# pred = clf.predict(test_img)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# print(pred)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ----------- é¢„æµ‹å•å¼ å›¾ç‰‡ ---------------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;test_cat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_cat_labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_features&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cat&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;TEST_COUNT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;test_dog&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_dog_labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_features&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;object_detect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;dog&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;TEST_COUNT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;test_img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vstack&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;test_cat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_dog&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;test_labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vstack&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;test_cat_labels&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_dog_labels&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;pred&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;clf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;test_img&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;precision&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;precision_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;test_labels&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;recall&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;recall_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;test_labels&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;å®é™…ç±»åˆ«:&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;test_labels&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;é¢„æµ‹ç±»åˆ«:&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;ç²¾å‡†ç‡:&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;precision&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;, å¬å›ç‡:&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;recall&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>â€œè§£å†³â€CUDNN_STATUS_ALLOC_FAILED</title><link>https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/</link><pubDate>Mon, 22 Mar 2021 21:42:00 +0800</pubDate><guid>https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/</guid><description>&lt;p&gt;æœ€è¿‘æ­£åœ¨åšä¸€ä¸ª&lt;del&gt;ç‚¼ä¸¹&lt;/del&gt;æ·±åº¦å­¦ä¹ çš„é¡¹ç›®ï¼Œä¸å¯é¿å…åœ°ä½¿ç”¨åˆ°äº†GPUåŠ é€Ÿã€‚å…¶ä¸­ï¼Œåœ¨ä½¿ç”¨cuDNNçš„æ—¶å€™é‡åˆ°äº†CUDNN_STATUS_ALLOC_FAILEDçš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆç»™å‡ºæˆ‘çš„ç³»ç»Ÿç¡¬ä»¶ä»¥åŠè½¯ä»¶ç¯å¢ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS: Windows Server 2019 Standard&lt;/li&gt;
&lt;li&gt;CPU: Intel Xeon W-2123 3.6GHz&lt;/li&gt;
&lt;li&gt;Memory: 64G ECC&lt;/li&gt;
&lt;li&gt;GPU: NVIDIA Quadro P4000(8G)&lt;/li&gt;
&lt;li&gt;Tensorflow: 1.13.2&lt;/li&gt;
&lt;li&gt;Keras: 2.1.5&lt;/li&gt;
&lt;li&gt;CUDA: 10.0&lt;/li&gt;
&lt;li&gt;cuDNN: 7.3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;2021-03-22 20:39:27.884555: E tensorflow/stream_executor/cuda/cuda_dnn.cc:334] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;2021-03-22 20:39:27.888005: E tensorflow/stream_executor/cuda/cuda_dnn.cc:334] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Traceback (most recent call last):
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; File &amp;#34;C:\ProgramData\Anaconda3\envs\ly\lib\site-packages\tensorflow\python\client\session.py&amp;#34;, line 1334, in _do_call
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; return fn(*args)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; File &amp;#34;C:\ProgramData\Anaconda3\envs\ly\lib\site-packages\tensorflow\python\client\session.py&amp;#34;, line 1319, in _run_fn
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; options, feed_dict, fetch_list, target_list, run_metadata)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; File &amp;#34;C:\ProgramData\Anaconda3\envs\ly\lib\site-packages\tensorflow\python\client\session.py&amp;#34;, line 1407, in _call_tf_sessionrun
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; run_metadata)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tensorflow.python.framework.errors_impl.UnknownError: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; [[{{node conv2d_1/convolution}}]]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; [[{{node concat_9}}]]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="quick-fix"&gt;Quick Fix
&lt;/h2&gt;&lt;p&gt;æ­¤å¤„å‚è€ƒstackoverflowä¸Šçš„&lt;a class="link" href="https://stackoverflow.com/questions/59116872/could-not-create-cudnn-handle-cudnn-status-alloc-failed-on-a-project-that-sho" target="_blank" rel="noopener"
&gt;ä¸€ä¸ªæ–¹æ¡ˆ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;CUDA_VISIBLE_DEVICES&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;-1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç›´æ¥ç¦ç”¨GPUï¼Œè‡ªç„¶ä¹Ÿå°±ä¸ä¼šç‰µæ‰¯åˆ°cuDNNã€‚&lt;/p&gt;
&lt;p&gt;Problem solved, amazing!&lt;/p&gt;
&lt;p&gt;ä¸ªé¬¼ã€‚&lt;/p&gt;
&lt;p&gt;ç¦ç”¨GPUä¹Ÿå°±æ„å‘³ç€ç¦ç”¨äº†GPUåŠ é€Ÿï¼Œ&lt;del&gt;æ„å‘³ç€å¯æ€œçš„CPUè¦burn itself&lt;/del&gt;ï¼Œè¿™åœ¨å¯¹äºæ•ˆç‡æœ‰è¦æ±‚çš„ç”Ÿäº§ç¯å¢ƒæ˜¯ä¸è¡Œçš„ğŸ™…â€â™‚ï¸ã€‚&lt;/p&gt;
&lt;h2 id="è§‚å¯Ÿ"&gt;è§‚å¯Ÿ
&lt;/h2&gt;&lt;p&gt;åœ¨å»ºç«‹æ¨¡å‹åæ˜¾å­˜ç›´æ¥çˆ†ç‚¸ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/1744973825.png"
width="389"
height="90"
srcset="https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/1744973825_hu_71ea199cc7b62134.png 480w, https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/1744973825_hu_525853d91d2e5337.png 1024w"
loading="lazy"
alt="AF436168-5387-4556-979B-721BE57A7A39.png"
class="gallery-image"
data-flex-grow="432"
data-flex-basis="1037px"
&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥é˜…èµ„æ–™ï¼Œåˆæ­¥çŒœæµ‹æ˜¯æ˜¾å­˜ä¸è¶³å¯¼è‡´çš„ï¼Œæ‰€ä»¥æƒ³åˆ°äº†é™åˆ¶ä¸€ä¸‹æ˜¾å­˜çš„æ¶ˆè€—ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;tensorflow&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;tf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;keras.backend.tensorflow_backend&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;set_session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;config&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConfigProto&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gpu_options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;allow_growth&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;set_session&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Session&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é™åˆ¶åæ˜¾å­˜æ˜æ˜¾é™ä½äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/2334776544.png"
width="407"
height="84"
srcset="https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/2334776544_hu_dbef2b96cb1145d8.png 480w, https://blog.kuludu.net/article/%E8%A7%A3%E5%86%B3-cudnn_status_alloc_failed/2334776544_hu_5985e633df9bf574.png 1024w"
loading="lazy"
alt="AF436168-5387-4556-979B-721BE57A7A39.png"
class="gallery-image"
data-flex-grow="484"
data-flex-basis="1162px"
&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å´©æºƒçš„é—®é¢˜ä¾æ—§ğŸ˜“ã€‚&lt;/p&gt;
&lt;p&gt;åˆæƒ³åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæœåŠ¡å™¨æ˜¯å¤šä¸ªé¡¹ç›®ç»„å…±ç”¨çš„ï¼Œ&lt;strong&gt;æ˜¯ä¸æ˜¯æœ‰å¯èƒ½ä¸ºå…¶å®ƒç»„æ­£åœ¨ä½¿ç”¨å¯¼è‡´cuDNNæ— æ³•åˆ›å»ºå¥æŸ„å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰å¯èƒ½ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸èƒ½å»å…³åˆ«äººçš„ç¨‹åºå‘€&lt;del&gt;bossä¸å¾—æ‰“æ­»æˆ‘&lt;/del&gt;ğŸ˜…ã€‚&lt;/p&gt;
&lt;p&gt;ç–‘é—®ç•™åœ¨è¿™é‡Œï¼Œç­‰æœåŠ¡å™¨ç©ºäº†å°±æ¥è¡¥å……ã€‚ï¼ˆ&lt;del&gt;å½“ç„¶å¯èƒ½æˆ‘ä¹Ÿå‹æ ¹ä¸ä¼šå¡«å‘&lt;/del&gt;ï¼Œä¸å¦‚ç•™ç»™è¯»è€…å½“ä¸€ä¸ªæ€è·¯ï¼‰&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="reference"&gt;Reference
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a class="link" href="https://github.com/tensorflow/tensorflow/issues/39989" target="_blank" rel="noopener"
&gt;https://github.com/tensorflow/tensorflow/issues/39989&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a class="link" href="https://blog.csdn.net/qq_40635998/article/details/87297634" target="_blank" rel="noopener"
&gt;https://blog.csdn.net/qq_40635998/article/details/87297634&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>åœ¨macOSä¸‹ä½¿ç”¨GPGå¯¹Git commitç­¾å</title><link>https://blog.kuludu.net/article/%E5%9C%A8macos%E4%B8%8B%E4%BD%BF%E7%94%A8gpg%E5%AF%B9git-commit%E7%AD%BE%E5%90%8D/</link><pubDate>Sun, 27 Dec 2020 23:41:00 +0800</pubDate><guid>https://blog.kuludu.net/article/%E5%9C%A8macos%E4%B8%8B%E4%BD%BF%E7%94%A8gpg%E5%AF%B9git-commit%E7%AD%BE%E5%90%8D/</guid><description>&lt;p&gt;åœ¨macOS 11.1ä¸‹æµ‹è¯•é€šè¿‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gpg (GnuPG) 2.2.25&lt;/li&gt;
&lt;li&gt;libgcrypt 1.8.7&lt;/li&gt;
&lt;li&gt;pinentry-mac (pinentry) 0.9.4&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="å®‰è£…æ‰€éœ€è½¯ä»¶"&gt;å®‰è£…æ‰€éœ€è½¯ä»¶
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;brew install gpg2 gnupg pinentry-mac
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="åˆ›å»ºé’¥åŒ™å¯¹"&gt;åˆ›å»ºé’¥åŒ™å¯¹
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gpg --full-generate-key
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™é‡Œå»ºè®®ä½¿ç”¨&lt;code&gt;--full-generate-key&lt;/code&gt;é€‰é¡¹è‡ªå®šä¹‰å…¨éƒ¨é€‰é¡¹ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥å³å¯ï¼ŒåŠ å¯†æ–¹æ³•é€‰&lt;code&gt;(1) RSA and RSA (default)&lt;/code&gt;ï¼Œå¯†é’¥é•¿åº¦å¯é€‰æ‹©æœ€é•¿&lt;code&gt;4096&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­é‚®ç®±åœ°å€éœ€è¦ä¸Githubä¸­éªŒè¯é€šè¿‡çš„é‚®ç®±ä¿æŒä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id="è®¾ç½®ç»ˆç«¯ç¯å¢ƒå˜é‡"&gt;è®¾ç½®ç»ˆç«¯ç¯å¢ƒå˜é‡
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;GPG_TTY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;tty&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åœ¨è¿™ä¸€æ­¥ï¼Œè®¾ç½®GPGç»ˆç«¯ç±»å‹ç¯å¢ƒå˜é‡ï¼Œç›®çš„æ˜¯è®©GPGç¨‹åºçŸ¥é“ä½¿ç”¨ä»€ä¹ˆä½œä¸ºç»ˆç«¯ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;source&lt;/span&gt; ~/.zshrc &lt;span class="c1"&gt;# å¦‚æœä½¿ç”¨çš„æ˜¯bashï¼Œæ›´æ”¹ä¸º.bashrc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="é…ç½®gpgä»£ç†"&gt;é…ç½®GPGä»£ç†
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vim ~/.gnupg/gpg-agent.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å°†ä»¥ä¸‹å†…å®¹è¿½åŠ è¿›å…¥é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pinentry-program /usr/local/bin/pinentry-mac
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·ï¼Œå°±å¯ä»¥ä½¿ç”¨pinentryç®¡ç†GPGå¯†é’¥äº†ã€‚&lt;/p&gt;
&lt;h2 id="è½½å…¥gpgä»£ç†é…ç½®"&gt;è½½å…¥GPGä»£ç†é…ç½®
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gpgconf --kill gpg-agent
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é€šè¿‡æ€æ­»&lt;code&gt;gpg-agent&lt;/code&gt;ï¼Œç¡®ä¿é…ç½®æ–‡ä»¶è¢«åŠ è½½ã€‚&lt;/p&gt;
&lt;h2 id="æµ‹è¯•ä¸€ä¸‹"&gt;æµ‹è¯•ä¸€ä¸‹
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;test&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; gpg --clearsign
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œå¯¹å­—ç¬¦ä¸²&lt;code&gt;test&lt;/code&gt;è¿›è¡Œç­¾åä»¥æµ‹è¯•gpgæ˜¯å¦é…ç½®æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé…ç½®æˆåŠŸï¼Œåº”è¯¥ä¼šå‡ºç°pinentryçš„çª—å£ï¼Œé€‰æ‹©&lt;code&gt;Save in keychain&lt;/code&gt;å¯ä»¥å°†å¯†ç ä¿å­˜è‡³é’¥åŒ™é“¾ã€‚&lt;/p&gt;
&lt;p&gt;æ­£ç¡®è¾“å…¥å¯†ç åï¼Œå¯ä»¥çœ‹åˆ°ä¿¡æ¯å’Œç­¾åã€‚&lt;/p&gt;
&lt;h2 id="è·å–å¯†é’¥id"&gt;è·å–å¯†é’¥ID
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gpg -K --keyid-format SHORT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰§è¡ŒæˆåŠŸåº”è¯¥ä¼šå‡ºç°è¿™æ ·çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;-------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sec rsa4096/&amp;lt;Key ID Short&amp;gt; 2020-12-27 [SC] [expires: 2024-12-26]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;lt;Key ID&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;uid [ultimate] example &amp;lt;example@example.com&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½¿ç”¨&lt;code&gt;Key ID Short&lt;/code&gt;æˆ–&lt;code&gt;Key ID&lt;/code&gt;å‡å¯ã€‚&lt;/p&gt;
&lt;h2 id="åœ¨gitä¸­è®¾ç½®å¯†é’¥"&gt;åœ¨Gitä¸­è®¾ç½®å¯†é’¥
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global user.signingkey &amp;lt;Key ID&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é€šè¿‡ä»¥ä¸Šå‘½ä»¤å¯ä»¥åœ¨å…¨å±€è®¾ç½®ä¸­é…ç½®å¯†é’¥IDã€‚&lt;/p&gt;
&lt;h2 id="å¼€å¯å¼ºåˆ¶ç­¾å"&gt;å¼€å¯å¼ºåˆ¶ç­¾å
&lt;/h2&gt;&lt;p&gt;é€šè¿‡ä»¥ä¸Šæ­¥éª¤å°±å¯ä»¥å®ç°GPGç­¾åcommitäº†ï¼Œåªéœ€è¦æ·»åŠ &lt;code&gt;-S&lt;/code&gt;é€‰é¡¹å³å¯ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -S -m &lt;span class="s2"&gt;&amp;#34;è¿™æ˜¯ä¸€æ¡ç­¾åè¿‡çš„commit&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¨å±€è®¾ç½®æ¥å¼ºåˆ¶å¼€å¯GPG&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global commit.gpgsign &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global tag.forceSignAnnotated &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é»˜è®¤å¼€å¯ç­¾åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¼ºåˆ¶å¼€å¯ç­¾åã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="åè®°"&gt;åè®°
&lt;/h2&gt;&lt;p&gt;åœ¨æœ€åˆçš„é…ç½®è¿‡ç¨‹å®Œæˆåï¼Œæˆ‘å¯¹æˆ‘çš„ä¸€ä¸ªä»“åº“è¿›è¡Œcommitæ“ä½œå‡ºç°é”™è¯¯ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;error: gpg failed to sign the data
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;fatal: failed to write commit object
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é€šè¿‡åŠ å…¥&lt;code&gt;GIT_TRACE=1&lt;/code&gt;Â å‚æ•°è§‚å¯ŸGitçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘å‘ç°å…¶å¡æ­»åœ¨äº†è¿™ä¸ªå‘½ä»¤çš„æ‰§è¡Œä¸Šï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gpg --status-fd&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; -bsau &amp;lt;Key ID&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…·ä½“æ˜¯ä»€ä¹ˆåŸå› æˆ‘å¹¶æœªåšæ·±ç©¶ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="å‚è€ƒ"&gt;å‚è€ƒ
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://help.github.com/articles/signing-commits-using-gpg/" target="_blank" rel="noopener"
&gt;https://help.github.com/articles/signing-commits-using-gpg/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://gist.github.com/troyfontaine/18c9146295168ee9ca2b30c00bd1b41e" target="_blank" rel="noopener"
&gt;https://gist.github.com/troyfontaine/18c9146295168ee9ca2b30c00bd1b41e&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/signing-commits" target="_blank" rel="noopener"
&gt;https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/signing-commits&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://merikan.com/2019/05/how-to-sign-git-commits/" target="_blank" rel="noopener"
&gt;https://merikan.com/2019/05/how-to-sign-git-commits/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>